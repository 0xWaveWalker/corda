<div class="ui container">
    <div class="ui negative message" id="form-error" ng-show="formError">{{formError}}</div>
    <div class="ui active dimmer" ng-show="isLoading()">
        <div class="ui text loader">Loading</div>
    </div>
    <h2>New Deal</h2>
    <form class="ui form" ng-submit="createDeal()">
        <div class="ui grid">
            <div class="eight wide column">
                <h3>Fixed Leg</h3>
                <div class="field">
                    <label>Fixed Rate Payer</label>
                    <input type="text" name="fixedRatePayer" ng-model="deal.fixedLeg.fixedRatePayer"/>
                </div>
                <div class="field">
                    <label>Notional</label>
                    <div class="ui grid">
                        <div class="eight wide column">
                            <input type="text" name="quantity" ng-model="deal.fixedLeg.notional.quantity" fcsa-number/>
                        </div>
                        <div class="eight wide column">
                            <select class="ui dropdown fluid" name="token" ng-model="deal.fixedLeg.notional.token">
                                <option value="EUR">EUR</option>
                                <option value="USD">USD</option>
                                <option value="GBP">GBP</option>
                            </select>
                        </div>
                    </div>
                </div>
                <div class="field">
                    <label>Payment Frequency</label>
                    <select class="ui selection dropdown" ng-model="deal.fixedLeg.paymentFrequency">
                        <option value="Annual">Annual</option>
                        <option value="SemiAnnual">Semi Annual</option>
                        <option value="Quarterly">Quarterly</option>
                    </select>
                </div>
                <div class="field">
                    <label>Effective Date</label>
                    <input type="date" name="effectiveDate" ng-model="deal.fixedLeg.effectiveDate"/>
                </div>
                <div class="field">
                    <label>Termination Date</label>
                    <input type="date" name="terminationDate" ng-model="deal.fixedLeg.terminationDate"/>
                </div>
                <div class="field">
                    <label>Day Count Basis</label>
                    <select class="ui selection dropdown" ng-model="deal.fixedLeg.dayCountBasis">
                        <option>30/360</option>
                        <option>30E/360</option>
                        <option>30E/360 (IDSA)</option>
                        <option>30E+/360 ISDO</option>
                        <option>ACT/360</option>
                        <option>ACT/365 Fixed</option>
                        <option>ACT/365 L</option>
                        <option>ACT/365 A/1</option>
                        <option>NL/365</option>
                        <option>ACT/ACT ISDA</option>
                        <option>ACT/ACT ICMA</option>
                        <option>Business/252</option>
                        <option>1/1</option>
                    </select>
                </div>
                <div class="field">
                    <label>Roll Convention</label>
                    <select class="ui selection dropdown" ng-model="deal.fixedLeg.rollConvention">
                        <option value="Following">Following</option>
                        <option value="Preceding">Preceding</option>
                        <option value="ModifiedFollowing">Modified following</option>
                        <option value="ModifiedFollowingBimonthly">Modified following bimonthly</option>
                        <option value="EndOfMonth">End of month</option>
                    </select>
                </div>
                <div class="field">
                    <label>Day in Month</label>
                    <input type="text" name="dayInMonth" ng-model="deal.fixedLeg.dayInMonth"/>
                </div>
                <div class="field">
                    <label>Payment Delay</label>
                    <select class="ui selection dropdown" ng-model="deal.fixedLeg.paymentDelay">
                        <option value="0">T+00D</option>
                        <option value="1">T+01D</option>
                        <option value="2">T+02D</option>
                        <option value="3">T+03D</option>
                    </select>
                </div>
                <div class="field">
                    <label>Payment Calendar</label>
                    <input type="text" name="paymentCalendar" ng-model="deal.fixedLeg.paymentCalendar"/>
                </div>
                <div class="field">
                    <label>Fixed Rate</label>
                    <input type="text" name="value" class="percent" ng-model="deal.fixedLeg.fixedRate"/>
                </div>
                <div class="field">
                    <label>Interest Period Adjustment</label>
                    <select class="ui selection dropdown" ng-model="deal.fixedLeg.interestPeriodAdjustment">
                        <option value="Adjusted">Adjusted</option>
                        <option value="Unadjusted">Unadjusted</option>
                    </select>
                </div>
            </div>
            <div class="eight wide column">
                <h3>Floating Leg</h3>
                <div class="field">
                    <label>Floating Rate Payer</label>
                    <input type="text" name="floatingRatePayer" ng-model="deal.floatingLeg.floatingRatePayer"/>
                </div>
                <div class="field">
                    <label>Notional</label>
                    <div class="ui grid">
                        <div class="eight wide column">
                            <input type="text" name="quantity" ng-model="deal.floatingLeg.notional.quantity" fcsa-number/>
                        </div>
                        <div class="eight wide column">
                            <select class="ui dropdown fluid" name="token" ng-model="deal.floatingLeg.notional.token">
                                <option value="EUR">EUR</option>
                                <option value="USD">USD</option>
                                <option value="GBP">GBP</option>
                            </select>
                        </div>
                    </div>
                </div>
                <div class="field">
                    <label>Payment Frequency</label>
                    <select class="ui selection dropdown" ng-model="deal.floatingLeg.paymentFrequency">
                        <option value="Annual">Annual</option>
                        <option value="Quarterly">Quarterly</option>
                        <option value="SemiAnnual">Semi Annual</option>
                    </select>
                </div>
                <div class="field">
                    <label>Effective Date</label>
                    <input type="date" name="effectiveDate" ng-model="deal.floatingLeg.effectiveDate"/>
                </div>
                <div class="field">
                    <label>Termination Date</label>
                    <input type="date" name="terminationDate" ng-model="deal.floatingLeg.terminationDate"/>
                </div>
                <div class="field">
                    <label>Day Count Basis</label>
                    <select class="ui selection dropdown" ng-model="deal.floatingLeg.dayCountBasis">
                        <option>1/1</option>
                        <option>30/360</option>
                        <option>30E/360</option>
                        <option>30E/360 (IDSA)</option>
                        <option>30E+/360 ISDO</option>
                        <option>ACT/360</option>
                        <option>ACT/365 Fixed</option>
                        <option>ACT/365 L</option>
                        <option>ACT/365 A/1</option>
                        <option>NL/365</option>
                        <option>ACT/ACT ISDA</option>
                        <option>ACT/ACT ICMA</option>
                        <option>Business/252</option>
                    </select>
                </div>
                <div class="field">
                    <label>Roll Convention</label>
                    <select class="ui selection dropdown" ng-model="deal.floatingLeg.rollConvention">
                        <option value="Following">Following</option>
                        <option value="Preceding">Preceding</option>
                        <option value="ModifiedFollowing">Modified following</option>
                        <option value="ModifiedFollowingBimonthly">Modified following bimonthly</option>
                        <option value="EndOfMonth">End of month</option>
                    </select>
                </div>
                <div class="field">
                    <label>Fixing Roll Convention</label>
                    <select class="ui selection dropdown" ng-model="deal.floatingLeg.fixingRollConvention">
                        <option value="Following">Following</option>
                        <option value="Preceding">Preceding</option>
                        <option value="ModifiedFollowing">Modified following</option>
                        <option value="ModifiedFollowingBimonthly">Modified following bimonthly</option>
                        <option value="EndOfMonth">End of month</option>
                    </select>
                </div>
                <div class="field">
                    <label>Day In Month</label>
                    <input type="text" name="dayInMonth" ng-model="deal.floatingLeg.dayInMonth"/>
                </div>
                <div class="field">
                    <label>Reset Day In Month</label>
                    <input type="text" name="resetDayInMonth" ng-model="deal.floatingLeg.resetDayInMonth"/>
                </div>
                <div class="field">
                    <label>Payment Delay</label>
                    <select class="ui selection dropdown" ng-model="deal.floatingLeg.paymentDelay">
                        <option value="0">T+00D</option>
                        <option value="1">T+01D</option>
                        <option value="2">T+02D</option>
                        <option value="3">T+03D</option>
                    </select>
                </div>
                <div class="field">
                    <label>Interest Period Adjustment</label>
                    <select class="ui selection dropdown" ng-model="deal.floatingLeg.interestPeriodAdjustment">
                        <option value="Adjusted">Adjusted</option>
                        <option value="Unadjusted">Unadjusted</option>
                    </select>
                </div>
                <div class="field">
                    <label>Fixing Period Offset</label>
                    <input type="number" name="fixingPeriodOffset" ng-model="deal.floatingLeg.fixingPeriodOffset"/>
                </div>
                <div class="field">
                    <label>Reset Rule</label>
                    <input type="text" name="resetRule" ng-model="deal.floatingLeg.resetRule"/>
                </div>
                <div class="field">
                    <label>Fixings Per Payment</label>
                    <input type="text" name="fixingsPerPayment" ng-model="deal.floatingLeg.fixingsPerPayment"/>
                </div>
                <!--<div class="ui container"><h3>deal.floatingLeg.fixingCalendar</h3>
                    <div class="field">
                        <label>0</label>
                        <input type="text" name="0" ng-model="deal.floatingLeg.fixingCalendar.0"/>
                    </div>
                </div>-->
                <div class="field">
                    <label>Index</label>
                    <input type="text" name="index" ng-model="deal.floatingLeg.index"/>
                </div>
                <div class="field">
                    <label>Index Source</label>
                    <input type="text" name="indexSource" ng-model="deal.floatingLeg.indexSource"/>
                </div>
                <div class="ui container">
                    <h3>Index Tenor</h3>
                    <div class="field">
                        <label>Name</label>
                        <input type="text" name="name" ng-model="deal.floatingLeg.indexTenor.name"/>
                    </div>
                </div>
            </div>
            <div class="sixteen wide column">
                <h3>Common</h3>
                <div class="field">
                    <label>Base Currency</label>
                    <input type="text" name="baseCurrency" ng-model="deal.common.baseCurrency"/>
                </div>
                <div class="field">
                    <label>Eligible Currency</label>
                    <input type="text" name="eligibleCurrency" ng-model="deal.common.eligibleCurrency"/>
                </div>
                <div class="field">
                    <label>Eligible Credit Support</label>
                    <input type="text" name="eligibleCreditSupport" ng-model="deal.common.eligibleCreditSupport"/>
                </div>
                <div class="field">
                    <label>Independent Amounts</label>
                    <div class="ui grid">
                        <div class="eight wide column">
                            <input type="text" name="quantity" ng-model="deal.common.independentAmounts.quantity" fcsa-number />
                        </div>
                        <div class="eight wide column">
                            <select class="ui dropdown fluid" name="token" ng-model="deal.common.independentAmounts.token">
                                <option value="EUR">EUR</option>
                                <option value="USD">USD</option>
                            </select>
                        </div>
                    </div>
                </div>
                <div class="ui container">
                    <h3>Threshold</h3>
                    <div class="field">
                        <div class="ui grid">
                            <div class="eight wide column">
                                <input type="text" name="quantity" ng-model="deal.common.threshold.quantity" fcsa-number />
                            </div>
                            <div class="eight wide column">
                                <select class="ui dropdown fluid" name="token" ng-model="deal.common.threshold.token">
                                    <option value="EUR">EUR</option>
                                    <option value="USD">USD</option>
                                    <option value="GBP">GBP</option>
                                </select>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="field">
                    <label>Minimum Transfer Amount</label>
                    <div class="ui grid">
                        <div class="eight wide column">
                            <input type="text" name="quantity" ng-model="deal.common.minimumTransferAmount.quantity" fcsa-number />
                        </div>
                        <div class="eight wide column">
                            <select class="ui dropdown fluid" name="token" ng-model="deal.common.minimumTransferAmount.token">
                                <option value="EUR">EUR</option>
                                <option value="USD">USD</option>
                                <option value="GBP">GBP</option>
                            </select>
                        </div>
                    </div>
                </div>
                <div class="field">
                    <label>Rounding</label>
                    <div class="ui grid">
                        <div class="eight wide column">
                            <input type="text" name="quantity" ng-model="deal.common.rounding.quantity" fcsa-number/>
                        </div>
                        <div class="eight wide column">
                            <select class="ui dropdown fluid" name="token" ng-model="deal.common.rounding.token">
                                <option value="EUR">EUR</option>
                                <option value="USD">USD</option>
                            </select>
                        </div>
                    </div>
                </div>
                <div class="field">
                    <label>ValuationDate</label>
                    <input type="text" name="valuationDate" ng-model="deal.common.valuationDate"/>
                </div>
                <div class="ui container">
                    <h3>InterestRate</h3>
                    <div class="field">
                        <label>Oracle</label>
                        <input type="text" name="oracle" ng-model="deal.common.interestRate.oracle"/>
                    </div>
                    <div class="ui container"><h3>Tenor</h3>
                        <div class="field">
                            <label>Name</label>
                            <input type="text" name="name" ng-model="deal.common.interestRate.tenor.name"/>
                        </div>
                    </div>
                    <div class="ui container"><h3>Ratio Unit</h3></div>
                    <div class="field">
                        <label>Name</label>
                        <input type="text" name="name" ng-model="deal.common.interestRate.name"/>
                    </div>
                </div>
                <div class="field">
                    <label>Address For Transfers</label>
                    <input type="text" name="addressForTransfers" ng-model="deal.common.addressForTransfers"/>
                </div>
            </div>
            <div class="sixteen wide column">
                <input type="submit" class="ui submit primary button fluid"/>
            </div>
        </div>
    </form>
</div>