<!DOCTYPE html>
<html ng-app="irsViewer">
<head>
    <!-- Standard Meta -->
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">

    <!-- Site Properties -->
    <title>IRS Deal Viewer</title>
    <link rel="stylesheet" type="text/css" href="./semantic/semantic.css">

    <script src="bower_components/jquery/dist/jquery.js"></script>
    <script src="bower_components/lodash/lodash.js"></script>
    <script src="semantic/semantic.js"></script>
    <script src="bower_components/angular/angular.js"></script>
    <script src="js/app.js"></script>
</head>
<body ng-controller="DealController">
<div class="ui inverted menu">
    <span class="header item"><a href="./">Home</a></span>
</div>
<div class="ui container">
    <div class="ui active dimmer" ng-show="isLoading()">
        <div class="ui text loader">Loading</div>
    </div>
    <!-- Todo: Deals should have common data at the top and interchangable green/red
       buyer and seller -->
    <!-- All fields of the deal can be found from the JSON returned by the IRS demo API.
    All fields can be represented in some way -->
    <div class="ui grid">
        <div class="sixteen wide column" id="common">
            <table class="ui striped table">
                <thead>
                <tr class="center aligned">
                    <th colspan="2">Common Information</th>
                </tr>
                </thead>
                <tbody>
                <tr class="center aligned">
                    <td>Parties</td>
                    <td>
                        <span ng-repeat="party in deal.parties">
                            <a href="party.html">{{party}}</a><span ng-show="!$last">,</span>
                        </span>
                    </td>
                </tr>
                <tr class="center aligned">
                    <td>Trade ID</td>
                    <td>{{deal.ref}}</td>
                </tr>
                <tr class="center aligned">
                    <td>Valuation Date</td>
                    <td>{{deal.common.valuationDate}}</td>
                </tr>
                <tr class="center aligned">
                    <td>Legal Document Hash</td>
                    <td>{{deal.common.hashLegalDocs}}</td>
                </tr>
                <tr class="center aligned">
                    <td>Interest Rates</td>
                    <td>
                        {{deal.common.interestRate.name}} with tenor
                        {{deal.common.interestRate.tenor.name}} via oracle
                        {{deal.common.interestRate.oracle}}
                    </td>
                </tr>
                </tbody>
            </table>
        </div>
        <div class="eight wide column" id="fixedleg">
            <table class="ui striped table">
                <thead>
                <tr class="center aligned">
                    <th colspan="2">Fixed Leg</th>
                </tr>
                </thead>
                <tbody>
                <tr class="center aligned">
                    <td>Payer</td>
                    <td><a href="party.html">{{deal.fixedLeg.fixedRatePayer}}</a></td>
                </tr>
                <tr class="center aligned">
                    <td>Notional Amount</td>
                    <td>{{deal.fixedLeg.notional.quantity}} {{deal.fixedLeg.notional.token}}</td>
                </tr>
                <tr class="center aligned">
                    <td>Payment Frequency</td>
                    <td>{{deal.fixedLeg.paymentFrequency}}</td>
                </tr>
                <tr class="center aligned">
                    <td>Effective From</td>
                    <td>{{deal.fixedLeg.effectiveDate}}</td>
                </tr>
                <tr class="center aligned">
                    <td>Terminates</td>
                    <td>{{deal.fixedLeg.terminationDate}}</td>
                </tr>
                </tbody>
            </table>
        </div>
        <div class="eight wide column" id="floatingleg">
            <table class="ui striped table">
                <thead>
                <tr class="center aligned">
                    <th colspan="2">Floating Leg</th>
                </tr>
                </thead>
                <tbody>
                <tr class="center aligned">
                    <td>Payer</td>
                    <td><a href="party.html">{{deal.floatingLeg.floatingRatePayer}}</a></td>
                </tr>
                <tr class="center aligned">
                    <td>Notional Amount</td>
                    <td>{{deal.floatingLeg.notional.quantity}} {{deal.floatingLeg.notional.token}}</td>
                </tr>
                <tr class="center aligned">
                    <td>Payment Frequency</td>
                    <td>{{deal.floatingLeg.paymentFrequency}}</td>
                </tr>
                <tr class="center aligned">
                    <td>Effective From</td>
                    <td>{{deal.floatingLeg.effectiveDate}}</td>
                </tr>
                <tr class="center aligned">
                    <td>Terminates</td>
                    <td>{{deal.floatingLeg.terminationDate}}</td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>
</body>
</html>
