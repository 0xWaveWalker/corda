<!DOCTYPE html>
<!--[if IE 8]>
<html class="no-js lt-ie9" lang="en"> <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js" lang="en"> <!--<![endif]-->
<head>
    <meta charset="utf-8">

    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Running the demos &mdash; R3 Prototyping latest documentation</title>


    <link rel="stylesheet" href="_static/css/custom.css" type="text/css"/>


    <link rel="top" title="R3 Prototyping latest documentation" href="index.html"/>
    <link rel="next" title="Node administration" href="node-administration.html"/>
    <link rel="prev" title="Networking and messaging" href="messaging.html"/>


    <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

<div class="wy-grid-for-nav">


    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
        <div class="wy-side-scroll">
            <div class="wy-side-nav-search">


                <a href="index.html" class="icon icon-home"> R3 Prototyping


                </a>


                <div class="version">
                    latest
                </div>


                <div role="search">
                    <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
                        <input type="text" name="q" placeholder="Search docs"/>
                        <input type="hidden" name="check_keywords" value="yes"/>
                        <input type="hidden" name="area" value="default"/>
                    </form>
                </div>


                <br>
                <a href="api/index.html">API reference</a>

            </div>

            <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">


                <p class="caption"><span class="caption-text">Overview</span></p>
                <ul class="current">
                    <li class="toctree-l1"><a class="reference internal" href="inthebox.html">What&#8217;s included?</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="getting-set-up.html">Getting set up</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="data-model.html">Data model</a></li>
                    <li class="toctree-l1"><a class="reference internal" href="messaging.html">Networking and
                        messaging</a></li>
                    <li class="toctree-l1 current"><a class="current reference internal" href="#">Running the demos</a>
                        <ul>
                            <li class="toctree-l2"><a class="reference internal" href="#trader-demo">Trader demo</a>
                            </li>
                            <li class="toctree-l2"><a class="reference internal" href="#irs-demo">IRS demo</a></li>
                        </ul>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="node-administration.html">Node
                        administration</a></li>
                    <li class="toctree-l1"><a class="reference internal" href="irs.html">The Interest Rate Swap
                        Contract</a></li>
                </ul>
                <p class="caption"><span class="caption-text">Tutorials</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="tutorial.html">Writing a contract</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="protocol-state-machines.html">Protocol
                        state machines</a></li>
                    <li class="toctree-l1"><a class="reference internal" href="oracles.html">Writing oracle services</a>
                    </li>
                </ul>
                <p class="caption"><span class="caption-text">Appendix</span></p>
                <ul>
                    <li class="toctree-l1"><a class="reference internal" href="visualiser.html">Using the visualiser</a>
                    </li>
                    <li class="toctree-l1"><a class="reference internal" href="codestyle.html">Code style guide</a></li>
                </ul>


            </div>
        </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">


        <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
            <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
            <a href="index.html">R3 Prototyping</a>
        </nav>


        <div class="wy-nav-content">
            <div class="rst-content">


                <div role="navigation" aria-label="breadcrumbs navigation">
                    <ul class="wy-breadcrumbs">
                        <li><a href="index.html">Docs</a> &raquo;</li>

                        <li>Running the demos</li>
                        <li class="wy-breadcrumbs-aside">


                            <a href="_sources/running-the-demos.txt" rel="nofollow"> View page source</a>


                        </li>
                    </ul>
                    <hr/>
                </div>
                <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
                    <div itemprop="articleBody">

                        <div class="section" id="running-the-demos">
                            <h1>Running the demos<a class="headerlink" href="#running-the-demos"
                                                    title="Permalink to this headline">¶</a></h1>
                            <p>The repository contains a small number of demo programs that run two-node networks,
                                demonstrating functionality developed
                                so far. We have:</p>
                            <ol class="arabic simple">
                                <li>The trader demo, which shows a delivery-vs-payment atomic swap of commercial paper
                                    for cash. You can learn more about
                                    how this works in <a class="reference internal" href="protocol-state-machines.html"><span
                                            class="doc">Protocol state machines</span></a>.
                                </li>
                                <li>The IRS demo, which shows two nodes establishing an interest rate swap between them
                                    and performing fixings with a
                                    rates oracle, all driven via the HTTP API.
                                </li>
                            </ol>
                            <p>The demos have only been tested on MacOS X and Ubuntu Linux. If you have success on other
                                platforms, please let us know.</p>
                            <p>The demos create node data directories in the root of the project. If something goes
                                wrong with them, blow away the
                                directories and try again.</p>
                            <p>For Windows users, the contents of the shell scripts are very trivial and can easily be
                                done by hand from a command
                                window. Essentially, it just runs Gradle to create the startup scripts, and then starts
                                the node with one set of
                                flags or another. Alternatively you could play with the new Linux syscall support in
                                Windows 10!</p>
                            <div class="section" id="trader-demo">
                                <h2>Trader demo<a class="headerlink" href="#trader-demo"
                                                  title="Permalink to this headline">¶</a></h2>
                                <p>Open two terminals, and in the first run::</p>
                                <div class="highlight-kotlin">
                                    <div class="highlight"><pre><span></span><span class="p">./</span><span class="n">scripts</span><span
                                            class="p">/</span><span class="n">trader</span><span class="p">-</span><span
                                            class="n">demo</span><span class="p">.</span><span class="n">sh</span> <span
                                            class="n">buyer</span>
</pre>
                                    </div>
                                </div>
                                <p>It will compile things, if necessary, then create a directory named &#8220;buyer&#8221;
                                    with a bunch of files inside and start
                                    the node. You should see it waiting for a trade to begin.</p>
                                <p>In the second terminal, run:</p>
                                <div class="highlight-kotlin">
                                    <div class="highlight"><pre><span></span><span class="p">./</span><span class="n">scripts</span><span
                                            class="p">/</span><span class="n">trader</span><span class="p">-</span><span
                                            class="n">demo</span><span class="p">.</span><span class="n">sh</span> <span
                                            class="n">seller</span>
</pre>
                                    </div>
                                </div>
                                <p>You should see some log lines scroll past, and within a few seconds the messages
                                    &#8220;Purchase complete - we are a
                                    happy customer!&#8221; and &#8220;Sale completed - we have a happy customer!&#8221;
                                    should be printed.</p>
                                <p>If it doesn&#8217;t work, jump on the mailing list and let us know.</p>
                            </div>
                            <div class="section" id="irs-demo">
                                <h2>IRS demo<a class="headerlink" href="#irs-demo"
                                               title="Permalink to this headline">¶</a></h2>
                                <p>Open three terminals. In the first run::</p>
                                <div class="highlight-kotlin">
                                    <div class="highlight"><pre><span></span><span class="p">./</span><span class="n">scripts</span><span
                                            class="p">/</span><span class="n">irs</span><span class="p">-</span><span
                                            class="n">demo</span><span class="p">.</span><span class="n">sh</span> <span
                                            class="n">nodeA</span>
</pre>
                                    </div>
                                </div>
                                <p>And in the second run::</p>
                                <div class="highlight-kotlin">
                                    <div class="highlight"><pre><span></span><span class="p">./</span><span class="n">scripts</span><span
                                            class="p">/</span><span class="n">irs</span><span class="p">-</span><span
                                            class="n">demo</span><span class="p">.</span><span class="n">sh</span> <span
                                            class="n">nodeB</span>
</pre>
                                    </div>
                                </div>
                                <p>The node in the first terminal will complain that it didn&#8217;t know about nodeB,
                                    so restart it. It&#8217;ll then find the
                                    location and identity keys of nodeA and be happy. NodeB also doubles up as the
                                    interest rates oracle and you should
                                    see some rates data get loaded.</p>
                                <p>Now in the third terminal run::</p>
                                <div class="highlight-kotlin">
                                    <div class="highlight"><pre><span></span><span class="p">./</span><span class="n">scripts</span><span
                                            class="p">/</span><span class="n">irs</span><span class="p">-</span><span
                                            class="n">demo</span><span class="p">.</span><span class="n">sh</span> <span
                                            class="n">trade</span> <span class="n">trade1</span>
</pre>
                                    </div>
                                </div>
                                <p>You should see some activity in the other two terminals as they set up the deal.
                                    Further instructions will be printed
                                    at this point showing how to advance the current date, so you can see them perform
                                    fixings and (eventually) complete
                                    the deal.</p>
                            </div>
                        </div>


                    </div>
                </div>
                <footer>

                    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">

                        <a href="node-administration.html" class="btn btn-neutral float-right"
                           title="Node administration" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>


                        <a href="messaging.html" class="btn btn-neutral" title="Networking and messaging" accesskey="p"><span
                                class="fa fa-arrow-circle-left"></span> Previous</a>

                    </div>


                    <hr/>

                    <div role="contentinfo">
                        <p>
                            &copy; Copyright 2015, R3 CEV.

                        </p>
                    </div>
                    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a
                        href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a
                        href="https://readthedocs.org">Read the Docs</a>.

                </footer>

            </div>
        </div>

    </section>

</div>


<script type="text/javascript">
    var DOCUMENTATION_OPTIONS = {
        URL_ROOT: './',
        VERSION: 'latest',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE: true
    };
</script>
<script type="text/javascript" src="_static/jquery.js"></script>
<script type="text/javascript" src="_static/underscore.js"></script>
<script type="text/javascript" src="_static/doctools.js"></script>


<script type="text/javascript" src="_static/js/theme.js"></script>


<script type="text/javascript">
    jQuery(function () {
        SphinxRtdTheme.StickyNav.enable();
    });
</script>


</body>
</html>