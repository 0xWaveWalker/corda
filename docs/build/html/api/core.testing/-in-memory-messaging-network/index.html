<HTML>
<HEAD>
<title>InMemoryMessagingNetwork - </title>
<link rel="stylesheet" href="../../style.css">
</HEAD>
<BODY>
<a href="../index.html">core.testing</a>&nbsp;/&nbsp;<a href=".">InMemoryMessagingNetwork</a><br/>
<br/>
<h1>InMemoryMessagingNetwork</h1>
<code><span class="keyword">class </span><span class="identifier">InMemoryMessagingNetwork</span></code><br/>
<p>An in-memory network allows you to manufacture <a href="-in-memory-messaging/index.html">InMemoryMessaging</a>s for a set of participants. Each
<a href="-in-memory-messaging/index.html">InMemoryMessaging</a> maintains a queue of messages it has received, and a background thread that dispatches
messages one by one to registered handlers. Alternatively, a messaging system may be manually pumped, in which
case no thread is created and a caller is expected to force delivery one at a time (this is useful for unit
testing).</p>
<br/>
<br/>
<h3>Types</h3>
<table>
<tbody>
<tr>
<td>
<a href="-builder/index.html">Builder</a></td>
<td>
<code><span class="keyword">inner</span> <span class="keyword">class </span><span class="identifier">Builder</span>&nbsp;<span class="symbol">:</span>&nbsp;<a href="../../core.messaging/-messaging-service-builder/index.html"><span class="identifier">MessagingServiceBuilder</span></a><span class="symbol">&lt;</span><a href="-in-memory-messaging/index.html"><span class="identifier">InMemoryMessaging</span></a><span class="symbol">&gt;</span></code></td>
</tr>
<tr>
<td>
<a href="-handle/index.html">Handle</a></td>
<td>
<code><span class="keyword">class </span><span class="identifier">Handle</span>&nbsp;<span class="symbol">:</span>&nbsp;<a href="../../core.messaging/-single-message-recipient.html"><span class="identifier">SingleMessageRecipient</span></a></code></td>
</tr>
<tr>
<td>
<a href="-in-memory-messaging/index.html">InMemoryMessaging</a></td>
<td>
<code><span class="keyword">inner</span> <span class="keyword">class </span><span class="identifier">InMemoryMessaging</span>&nbsp;<span class="symbol">:</span>&nbsp;<a href="../../core.messaging/-messaging-service/index.html"><span class="identifier">MessagingService</span></a></code><p>An <a href="-in-memory-messaging/index.html">InMemoryMessaging</a> provides a <a href="../../core.messaging/-messaging-service/index.html">MessagingService</a> that isnt backed by any kind of network or disk storage
system, but just uses regular queues on the heap instead. It is intended for unit testing and developer convenience
when all entities on the network are being simulated in-process.</p>
</td>
</tr>
<tr>
<td>
<a href="-latency-calculator/index.html">LatencyCalculator</a></td>
<td>
<code><span class="keyword">interface </span><span class="identifier">LatencyCalculator</span></code></td>
</tr>
</tbody>
</table>
<h3>Constructors</h3>
<table>
<tbody>
<tr>
<td>
<a href="-init-.html">&lt;init&gt;</a></td>
<td>
<code><span class="identifier">InMemoryMessagingNetwork</span><span class="symbol">(</span><span class="symbol">)</span></code><p>An in-memory network allows you to manufacture <a href="-in-memory-messaging/index.html">InMemoryMessaging</a>s for a set of participants. Each
<a href="-in-memory-messaging/index.html">InMemoryMessaging</a> maintains a queue of messages it has received, and a background thread that dispatches
messages one by one to registered handlers. Alternatively, a messaging system may be manually pumped, in which
case no thread is created and a caller is expected to force delivery one at a time (this is useful for unit
testing).</p>
</td>
</tr>
</tbody>
</table>
<h3>Properties</h3>
<table>
<tbody>
<tr>
<td>
<a href="all-messages.html">allMessages</a></td>
<td>
<code><span class="keyword">val </span><span class="identifier">allMessages</span><span class="symbol">: </span><span class="identifier">&lt;ERROR CLASS&gt;</span><span class="symbol">&lt;</span><span class="identifier">&lt;ERROR CLASS&gt;</span><span class="symbol">&lt;</span><a href="../../core.messaging/-single-message-recipient.html"><span class="identifier">SingleMessageRecipient</span></a><span class="symbol">,</span>&nbsp;<a href="../../core.messaging/-message/index.html"><span class="identifier">Message</span></a><span class="symbol">,</span>&nbsp;<a href="../../core.messaging/-message-recipients.html"><span class="identifier">MessageRecipients</span></a><span class="symbol">&gt;</span><span class="symbol">&gt;</span></code><p>A stream of (sender, message, recipients) triples</p>
</td>
</tr>
<tr>
<td>
<a href="endpoints.html">endpoints</a></td>
<td>
<code><span class="keyword">val </span><span class="identifier">endpoints</span><span class="symbol">: </span><span class="identifier">List</span><span class="symbol">&lt;</span><a href="-in-memory-messaging/index.html"><span class="identifier">InMemoryMessaging</span></a><span class="symbol">&gt;</span></code></td>
</tr>
<tr>
<td>
<a href="everyone-online.html">everyoneOnline</a></td>
<td>
<code><span class="keyword">val </span><span class="identifier">everyoneOnline</span><span class="symbol">: </span><a href="../../core.messaging/-all-possible-recipients.html"><span class="identifier">AllPossibleRecipients</span></a></code></td>
</tr>
<tr>
<td>
<a href="latency-calculator.html">latencyCalculator</a></td>
<td>
<code><span class="keyword">var </span><span class="identifier">latencyCalculator</span><span class="symbol">: </span><a href="-latency-calculator/index.html"><span class="identifier">LatencyCalculator</span></a><span class="symbol">?</span></code><p>This can be set to an object which can inject artificial latency between sender/recipient pairs.</p>
</td>
</tr>
</tbody>
</table>
<h3>Functions</h3>
<table>
<tbody>
<tr>
<td>
<a href="create-node.html">createNode</a></td>
<td>
<code><span class="keyword">fun </span><span class="identifier">createNode</span><span class="symbol">(</span><span class="identifier" id="core.testing.InMemoryMessagingNetwork$createNode(kotlin.Boolean)/manuallyPumped">manuallyPumped</span><span class="symbol">:</span>&nbsp;<span class="identifier">Boolean</span><span class="symbol">)</span><span class="symbol">: </span><span class="identifier">&lt;ERROR CLASS&gt;</span><span class="symbol">&lt;</span><a href="-handle/index.html"><span class="identifier">Handle</span></a><span class="symbol">,</span>&nbsp;<a href="../../core.messaging/-messaging-service-builder/index.html"><span class="identifier">MessagingServiceBuilder</span></a><span class="symbol">&lt;</span><a href="-in-memory-messaging/index.html"><span class="identifier">InMemoryMessaging</span></a><span class="symbol">&gt;</span><span class="symbol">&gt;</span></code><p>Creates a node and returns the new object that identifies its location on the network to senders, and the
<a href="-in-memory-messaging/index.html">InMemoryMessaging</a> that the recipient/in-memory node uses to receive messages and send messages itself.</p>
</td>
</tr>
<tr>
<td>
<a href="create-node-with-i-d.html">createNodeWithID</a></td>
<td>
<code><span class="keyword">fun </span><span class="identifier">createNodeWithID</span><span class="symbol">(</span><span class="identifier" id="core.testing.InMemoryMessagingNetwork$createNodeWithID(kotlin.Boolean, kotlin.Int)/manuallyPumped">manuallyPumped</span><span class="symbol">:</span>&nbsp;<span class="identifier">Boolean</span><span class="symbol">, </span><span class="identifier" id="core.testing.InMemoryMessagingNetwork$createNodeWithID(kotlin.Boolean, kotlin.Int)/id">id</span><span class="symbol">:</span>&nbsp;<span class="identifier">Int</span><span class="symbol">)</span><span class="symbol">: </span><a href="../../core.messaging/-messaging-service-builder/index.html"><span class="identifier">MessagingServiceBuilder</span></a><span class="symbol">&lt;</span><a href="-in-memory-messaging/index.html"><span class="identifier">InMemoryMessaging</span></a><span class="symbol">&gt;</span></code><p>Creates a node at the given address: useful if you want to recreate a node to simulate a restart</p>
</td>
</tr>
<tr>
<td>
<a href="setup-timestamping-node.html">setupTimestampingNode</a></td>
<td>
<code><span class="keyword">fun </span><span class="identifier">setupTimestampingNode</span><span class="symbol">(</span><span class="identifier" id="core.testing.InMemoryMessagingNetwork$setupTimestampingNode(kotlin.Boolean)/manuallyPumped">manuallyPumped</span><span class="symbol">:</span>&nbsp;<span class="identifier">Boolean</span><span class="symbol">)</span><span class="symbol">: </span><span class="identifier">&lt;ERROR CLASS&gt;</span><span class="symbol">&lt;</span><a href="../../core.node/-node-info/index.html"><span class="identifier">NodeInfo</span></a><span class="symbol">,</span>&nbsp;<a href="-in-memory-messaging/index.html"><span class="identifier">InMemoryMessaging</span></a><span class="symbol">&gt;</span></code></td>
</tr>
<tr>
<td>
<a href="stop.html">stop</a></td>
<td>
<code><span class="keyword">fun </span><span class="identifier">stop</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">: </span><span class="identifier">Unit</span></code></td>
</tr>
</tbody>
</table>
</BODY>
</HTML>
