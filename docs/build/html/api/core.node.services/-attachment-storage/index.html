<HTML>
<HEAD>
<title>AttachmentStorage - </title>
<link rel="stylesheet" href="../../style.css">
</HEAD>
<BODY>
<a href="../index.html">core.node.services</a>&nbsp;/&nbsp;<a href=".">AttachmentStorage</a><br/>
<br/>
<h1>AttachmentStorage</h1>
<code><span class="keyword">interface </span><span class="identifier">AttachmentStorage</span></code><br/>
<p>An attachment store records potentially large binary objects, identified by their hash. Note that attachments are
immutable and can never be erased once inserted</p>
<br/>
<br/>
<h3>Functions</h3>
<table>
<tbody>
<tr>
<td>
<a href="import-attachment.html">importAttachment</a></td>
<td>
<code><span class="keyword">abstract</span> <span class="keyword">fun </span><span class="identifier">importAttachment</span><span class="symbol">(</span><span class="identifier" id="core.node.services.AttachmentStorage$importAttachment(java.io.InputStream)/jar">jar</span><span class="symbol">:</span>&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/io/InputStream.html"><span class="identifier">InputStream</span></a><span class="symbol">)</span><span class="symbol">: </span><a href="../../core.crypto/-secure-hash/index.html"><span class="identifier">SecureHash</span></a></code><p>Inserts the given attachment into the store, does <emph>not</emph> close the input stream. This can be an intensive
operation due to the need to copy the bytes to disk and hash them along the way.</p>
</td>
</tr>
<tr>
<td>
<a href="open-attachment.html">openAttachment</a></td>
<td>
<code><span class="keyword">abstract</span> <span class="keyword">fun </span><span class="identifier">openAttachment</span><span class="symbol">(</span><span class="identifier" id="core.node.services.AttachmentStorage$openAttachment(core.crypto.SecureHash)/id">id</span><span class="symbol">:</span>&nbsp;<a href="../../core.crypto/-secure-hash/index.html"><span class="identifier">SecureHash</span></a><span class="symbol">)</span><span class="symbol">: </span><a href="../../core/-attachment/index.html"><span class="identifier">Attachment</span></a><span class="symbol">?</span></code><p>Returns a newly opened stream for the given locally stored attachment, or null if no such attachment is known.
The returned stream must be closed when you are done with it to avoid resource leaks. You should probably wrap
the result in a <a href="#">JarInputStream</a> unless youre sending it somewhere, there is a convenience helper for this
on <a href="../../core/-attachment/index.html">Attachment</a>.</p>
</td>
</tr>
</tbody>
</table>
<h3>Inheritors</h3>
<table>
<tbody>
<tr>
<td>
<a href="../-node-attachment-service/index.html">NodeAttachmentService</a></td>
<td>
<code><span class="keyword">class </span><span class="identifier">NodeAttachmentService</span>&nbsp;<span class="symbol">:</span>&nbsp;<span class="identifier">AttachmentStorage</span></code><p>Stores attachments in the specified local directory, which must exist. Doesnt allow new attachments to be uploaded.</p>
</td>
</tr>
</tbody>
</table>
</BODY>
</HTML>
