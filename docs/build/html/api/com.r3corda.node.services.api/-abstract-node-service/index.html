<HTML>
<HEAD>
<title>AbstractNodeService - </title>
<link rel="stylesheet" href="../../style.css">
</HEAD>
<BODY>
<a href="../index.html">com.r3corda.node.services.api</a>&nbsp;/&nbsp;<a href=".">AbstractNodeService</a><br/>
<br/>
<h1>AbstractNodeService</h1>
<code><span class="keyword">abstract</span> <span class="keyword">class </span><span class="identifier">AbstractNodeService</span>&nbsp;<span class="symbol">:</span>&nbsp;<a href="../../com.r3corda.core.serialization/-singleton-serialize-as-token/index.html"><span class="identifier">SingletonSerializeAsToken</span></a></code><br/>
<p>Abstract superclass for services that a node can host, which provides helper functions.</p>
<br/>
<br/>
<h3>Constructors</h3>
<table>
<tbody>
<tr>
<td>
<a href="-init-.html">&lt;init&gt;</a></td>
<td>
<code><span class="identifier">AbstractNodeService</span><span class="symbol">(</span><span class="identifier" id="com.r3corda.node.services.api.AbstractNodeService$<init>(com.r3corda.node.services.api.ServiceHubInternal)/services">services</span><span class="symbol">:</span>&nbsp;<a href="../-service-hub-internal/index.html"><span class="identifier">ServiceHubInternal</span></a><span class="symbol">)</span></code><p>Abstract superclass for services that a node can host, which provides helper functions.</p>
</td>
</tr>
</tbody>
</table>
<h3>Properties</h3>
<table>
<tbody>
<tr>
<td>
<a href="net.html">net</a></td>
<td>
<code><span class="keyword">val </span><span class="identifier">net</span><span class="symbol">: </span><a href="../-messaging-service-internal/index.html"><span class="identifier">MessagingServiceInternal</span></a></code></td>
</tr>
<tr>
<td>
<a href="services.html">services</a></td>
<td>
<code><span class="keyword">val </span><span class="identifier">services</span><span class="symbol">: </span><a href="../-service-hub-internal/index.html"><span class="identifier">ServiceHubInternal</span></a></code></td>
</tr>
</tbody>
</table>
<h3>Functions</h3>
<table>
<tbody>
<tr>
<td>
<a href="add-message-handler.html">addMessageHandler</a></td>
<td>
<code><span class="keyword">fun </span><span class="symbol">&lt;</span><span class="identifier">Q</span>&nbsp;<span class="symbol">:</span>&nbsp;<a href="../../com.r3corda.protocols/-service-request-message/index.html"><span class="identifier">ServiceRequestMessage</span></a><span class="symbol">, </span><span class="identifier">R</span>&nbsp;<span class="symbol">:</span>&nbsp;<span class="identifier">Any</span><span class="symbol">&gt;</span> <span class="identifier">addMessageHandler</span><span class="symbol">(</span><span class="identifier" id="com.r3corda.node.services.api.AbstractNodeService$addMessageHandler(kotlin.String, kotlin.Function1((com.r3corda.node.services.api.AbstractNodeService.addMessageHandler.Q, com.r3corda.node.services.api.AbstractNodeService.addMessageHandler.R)), kotlin.Function2((com.r3corda.core.messaging.Message, java.lang.Exception, kotlin.Unit)))/topic">topic</span><span class="symbol">:</span>&nbsp;<span class="identifier">String</span><span class="symbol">, </span><span class="identifier" id="com.r3corda.node.services.api.AbstractNodeService$addMessageHandler(kotlin.String, kotlin.Function1((com.r3corda.node.services.api.AbstractNodeService.addMessageHandler.Q, com.r3corda.node.services.api.AbstractNodeService.addMessageHandler.R)), kotlin.Function2((com.r3corda.core.messaging.Message, java.lang.Exception, kotlin.Unit)))/handler">handler</span><span class="symbol">:</span>&nbsp;<span class="symbol">(</span><span class="identifier">Q</span><span class="symbol">)</span>&nbsp;<span class="symbol">-&gt;</span>&nbsp;<span class="identifier">R</span><span class="symbol">, </span><span class="identifier" id="com.r3corda.node.services.api.AbstractNodeService$addMessageHandler(kotlin.String, kotlin.Function1((com.r3corda.node.services.api.AbstractNodeService.addMessageHandler.Q, com.r3corda.node.services.api.AbstractNodeService.addMessageHandler.R)), kotlin.Function2((com.r3corda.core.messaging.Message, java.lang.Exception, kotlin.Unit)))/exceptionConsumer">exceptionConsumer</span><span class="symbol">:</span>&nbsp;<span class="symbol">(</span><a href="../../com.r3corda.core.messaging/-message/index.html"><span class="identifier">Message</span></a><span class="symbol">,</span>&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html"><span class="identifier">Exception</span></a><span class="symbol">)</span>&nbsp;<span class="symbol">-&gt;</span>&nbsp;<span class="identifier">Unit</span><span class="symbol">)</span><span class="symbol">: </span><a href="../../com.r3corda.core.messaging/-message-handler-registration.html"><span class="identifier">MessageHandlerRegistration</span></a></code><p>Register a handler for a message topic. In comparison to using net.addMessageHandler() this manages a lot of
common boilerplate code. Exceptions are caught and passed to the provided consumer.  If you just want a simple
acknowledgement response with no content, use <a href="#">com.r3corda.core.messaging.Ack</a>.</p>
<code><span class="keyword">fun </span><span class="symbol">&lt;</span><span class="identifier">Q</span>&nbsp;<span class="symbol">:</span>&nbsp;<a href="../../com.r3corda.protocols/-service-request-message/index.html"><span class="identifier">ServiceRequestMessage</span></a><span class="symbol">, </span><span class="identifier">R</span>&nbsp;<span class="symbol">:</span>&nbsp;<span class="identifier">Any</span><span class="symbol">&gt;</span> <span class="identifier">addMessageHandler</span><span class="symbol">(</span><span class="identifier" id="com.r3corda.node.services.api.AbstractNodeService$addMessageHandler(kotlin.String, kotlin.Function1((com.r3corda.node.services.api.AbstractNodeService.addMessageHandler.Q, com.r3corda.node.services.api.AbstractNodeService.addMessageHandler.R)))/topic">topic</span><span class="symbol">:</span>&nbsp;<span class="identifier">String</span><span class="symbol">, </span><span class="identifier" id="com.r3corda.node.services.api.AbstractNodeService$addMessageHandler(kotlin.String, kotlin.Function1((com.r3corda.node.services.api.AbstractNodeService.addMessageHandler.Q, com.r3corda.node.services.api.AbstractNodeService.addMessageHandler.R)))/handler">handler</span><span class="symbol">:</span>&nbsp;<span class="symbol">(</span><span class="identifier">Q</span><span class="symbol">)</span>&nbsp;<span class="symbol">-&gt;</span>&nbsp;<span class="identifier">R</span><span class="symbol">)</span><span class="symbol">: </span><a href="../../com.r3corda.core.messaging/-message-handler-registration.html"><span class="identifier">MessageHandlerRegistration</span></a></code><p>Register a handler for a message topic. In comparison to using net.addMessageHandler() this manages a lot of
common boilerplate code. Exceptions are propagated to the messaging layer.  If you just want a simple
acknowledgement response with no content, use <a href="#">com.r3corda.core.messaging.Ack</a>.</p>
</td>
</tr>
<tr>
<td>
<a href="add-protocol-handler.html">addProtocolHandler</a></td>
<td>
<code><span class="keyword">fun </span><span class="symbol">&lt;</span><span class="identifier">H</span>&nbsp;<span class="symbol">:</span>&nbsp;<a href="../../com.r3corda.protocols/-handshake-message/index.html"><span class="identifier">HandshakeMessage</span></a><span class="symbol">, </span><span class="identifier">R</span>&nbsp;<span class="symbol">:</span>&nbsp;<span class="identifier">Any</span><span class="symbol">&gt;</span> <span class="identifier">addProtocolHandler</span><span class="symbol">(</span><span class="identifier" id="com.r3corda.node.services.api.AbstractNodeService$addProtocolHandler(kotlin.String, kotlin.String, kotlin.Function1((com.r3corda.node.services.api.AbstractNodeService.addProtocolHandler.H, com.r3corda.core.protocols.ProtocolLogic((com.r3corda.node.services.api.AbstractNodeService.addProtocolHandler.R)))), kotlin.Function2((((com.r3corda.node.services.api.AbstractNodeService.addProtocolHandler.R)), com.r3corda.node.services.api.AbstractNodeService.addProtocolHandler.H, kotlin.Unit)))/topic">topic</span><span class="symbol">:</span>&nbsp;<span class="identifier">String</span><span class="symbol">, </span><span class="identifier" id="com.r3corda.node.services.api.AbstractNodeService$addProtocolHandler(kotlin.String, kotlin.String, kotlin.Function1((com.r3corda.node.services.api.AbstractNodeService.addProtocolHandler.H, com.r3corda.core.protocols.ProtocolLogic((com.r3corda.node.services.api.AbstractNodeService.addProtocolHandler.R)))), kotlin.Function2((((com.r3corda.node.services.api.AbstractNodeService.addProtocolHandler.R)), com.r3corda.node.services.api.AbstractNodeService.addProtocolHandler.H, kotlin.Unit)))/loggerName">loggerName</span><span class="symbol">:</span>&nbsp;<span class="identifier">String</span><span class="symbol">, </span><span class="identifier" id="com.r3corda.node.services.api.AbstractNodeService$addProtocolHandler(kotlin.String, kotlin.String, kotlin.Function1((com.r3corda.node.services.api.AbstractNodeService.addProtocolHandler.H, com.r3corda.core.protocols.ProtocolLogic((com.r3corda.node.services.api.AbstractNodeService.addProtocolHandler.R)))), kotlin.Function2((((com.r3corda.node.services.api.AbstractNodeService.addProtocolHandler.R)), com.r3corda.node.services.api.AbstractNodeService.addProtocolHandler.H, kotlin.Unit)))/protocolFactory">protocolFactory</span><span class="symbol">:</span>&nbsp;<span class="symbol">(</span><span class="identifier">H</span><span class="symbol">)</span>&nbsp;<span class="symbol">-&gt;</span>&nbsp;<a href="../../com.r3corda.core.protocols/-protocol-logic/index.html"><span class="identifier">ProtocolLogic</span></a><span class="symbol">&lt;</span><span class="identifier">R</span><span class="symbol">&gt;</span><span class="symbol">, </span><span class="identifier" id="com.r3corda.node.services.api.AbstractNodeService$addProtocolHandler(kotlin.String, kotlin.String, kotlin.Function1((com.r3corda.node.services.api.AbstractNodeService.addProtocolHandler.H, com.r3corda.core.protocols.ProtocolLogic((com.r3corda.node.services.api.AbstractNodeService.addProtocolHandler.R)))), kotlin.Function2((((com.r3corda.node.services.api.AbstractNodeService.addProtocolHandler.R)), com.r3corda.node.services.api.AbstractNodeService.addProtocolHandler.H, kotlin.Unit)))/onResultFuture">onResultFuture</span><span class="symbol">:</span>&nbsp;<span class="symbol">(</span><span class="identifier">&lt;ERROR CLASS&gt;</span><span class="symbol">&lt;</span><span class="identifier">R</span><span class="symbol">&gt;</span><span class="symbol">,</span>&nbsp;<span class="identifier">H</span><span class="symbol">)</span>&nbsp;<span class="symbol">-&gt;</span>&nbsp;<span class="identifier">Unit</span><span class="symbol">)</span><span class="symbol">: </span><span class="identifier">Unit</span></code><p>Register a handler to kick-off a protocol when a <a href="../../com.r3corda.protocols/-handshake-message/index.html">HandshakeMessage</a> is received by the node. This performs the
necessary steps to enable communication between the two protocols, including calling ProtocolLogic.registerSession.</p>
<code><span class="keyword">fun </span><span class="symbol">&lt;</span><span class="identifier">H</span>&nbsp;<span class="symbol">:</span>&nbsp;<a href="../../com.r3corda.protocols/-handshake-message/index.html"><span class="identifier">HandshakeMessage</span></a><span class="symbol">, </span><span class="identifier">R</span>&nbsp;<span class="symbol">:</span>&nbsp;<span class="identifier">Any</span><span class="symbol">&gt;</span> <span class="identifier">addProtocolHandler</span><span class="symbol">(</span><span class="identifier" id="com.r3corda.node.services.api.AbstractNodeService$addProtocolHandler(kotlin.String, kotlin.String, kotlin.Function1((com.r3corda.node.services.api.AbstractNodeService.addProtocolHandler.H, com.r3corda.core.protocols.ProtocolLogic((com.r3corda.node.services.api.AbstractNodeService.addProtocolHandler.R)))))/topic">topic</span><span class="symbol">:</span>&nbsp;<span class="identifier">String</span><span class="symbol">, </span><span class="identifier" id="com.r3corda.node.services.api.AbstractNodeService$addProtocolHandler(kotlin.String, kotlin.String, kotlin.Function1((com.r3corda.node.services.api.AbstractNodeService.addProtocolHandler.H, com.r3corda.core.protocols.ProtocolLogic((com.r3corda.node.services.api.AbstractNodeService.addProtocolHandler.R)))))/loggerName">loggerName</span><span class="symbol">:</span>&nbsp;<span class="identifier">String</span><span class="symbol">, </span><span class="identifier" id="com.r3corda.node.services.api.AbstractNodeService$addProtocolHandler(kotlin.String, kotlin.String, kotlin.Function1((com.r3corda.node.services.api.AbstractNodeService.addProtocolHandler.H, com.r3corda.core.protocols.ProtocolLogic((com.r3corda.node.services.api.AbstractNodeService.addProtocolHandler.R)))))/protocolFactory">protocolFactory</span><span class="symbol">:</span>&nbsp;<span class="symbol">(</span><span class="identifier">H</span><span class="symbol">)</span>&nbsp;<span class="symbol">-&gt;</span>&nbsp;<a href="../../com.r3corda.core.protocols/-protocol-logic/index.html"><span class="identifier">ProtocolLogic</span></a><span class="symbol">&lt;</span><span class="identifier">R</span><span class="symbol">&gt;</span><span class="symbol">)</span><span class="symbol">: </span><span class="identifier">Unit</span></code></td>
</tr>
</tbody>
</table>
<h3>Inherited Functions</h3>
<table>
<tbody>
<tr>
<td>
<a href="../../com.r3corda.core.serialization/-singleton-serialize-as-token/to-token.html">toToken</a></td>
<td>
<code><span class="keyword">open</span> <span class="keyword">fun </span><span class="identifier">toToken</span><span class="symbol">(</span><span class="identifier" id="com.r3corda.core.serialization.SingletonSerializeAsToken$toToken(com.r3corda.core.serialization.SerializeAsTokenContext)/context">context</span><span class="symbol">:</span>&nbsp;<a href="../../com.r3corda.core.serialization/-serialize-as-token-context/index.html"><span class="identifier">SerializeAsTokenContext</span></a><span class="symbol">)</span><span class="symbol">: </span><a href="../../com.r3corda.core.serialization/-serialization-token/index.html"><span class="identifier">SerializationToken</span></a></code></td>
</tr>
</tbody>
</table>
<h3>Companion Object Properties</h3>
<table>
<tbody>
<tr>
<td>
<a href="logger.html">logger</a></td>
<td>
<code><span class="keyword">val </span><span class="identifier">logger</span><span class="symbol">: </span><span class="identifier">&lt;ERROR CLASS&gt;</span></code></td>
</tr>
</tbody>
</table>
<h3>Inheritors</h3>
<table>
<tbody>
<tr>
<td>
<a href="../../com.r3corda.node.services.network/-abstract-network-map-service/index.html">AbstractNetworkMapService</a></td>
<td>
<code><span class="keyword">abstract</span> <span class="keyword">class </span><span class="identifier">AbstractNetworkMapService</span>&nbsp;<span class="symbol">:</span>&nbsp;<a href="../../com.r3corda.node.services.network/-network-map-service/index.html"><span class="identifier">NetworkMapService</span></a><span class="symbol">, </span><span class="identifier">AbstractNodeService</span></code><p>Abstracted out core functionality as the basis for a persistent implementation, as well as existing in-memory implementation.</p>
</td>
</tr>
<tr>
<td>
<a href="../../com.r3corda.node.services.monitor/-node-monitor-service/index.html">NodeMonitorService</a></td>
<td>
<code><span class="keyword">class </span><span class="identifier">NodeMonitorService</span>&nbsp;<span class="symbol">:</span>&nbsp;<span class="identifier">AbstractNodeService</span></code><p>Service which allows external clients to monitor the nodes vault and state machine manager, as well as trigger
actions within the node. The service also sends requests for user input back to clients, for example to enter
additional information while a protocol runs, or confirm an action.</p>
</td>
</tr>
<tr>
<td>
<a href="../../com.r3corda.node.services.transactions/-notary-service/index.html">NotaryService</a></td>
<td>
<code><span class="keyword">abstract</span> <span class="keyword">class </span><span class="identifier">NotaryService</span>&nbsp;<span class="symbol">:</span>&nbsp;<span class="identifier">AbstractNodeService</span></code><p>A Notary service acts as the final signer of a transaction ensuring two things:</p>
</td>
</tr>
<tr>
<td>
<a href="../../com.r3corda.node.services.clientapi/-fixing-session-initiation/-service/index.html">Service</a></td>
<td>
<code><span class="keyword">class </span><span class="identifier">Service</span>&nbsp;<span class="symbol">:</span>&nbsp;<span class="identifier">AbstractNodeService</span></code></td>
</tr>
<tr>
<td>
<a href="../../com.r3corda.node.services/-notary-change/-service/index.html">Service</a></td>
<td>
<code><span class="keyword">class </span><span class="identifier">Service</span>&nbsp;<span class="symbol">:</span>&nbsp;<span class="identifier">AbstractNodeService</span></code><p>A service that monitors the network for requests for changing the notary of a state,
and immediately runs the <a href="../../com.r3corda.protocols/-notary-change-protocol/index.html">NotaryChangeProtocol</a> if the auto-accept criteria are met.</p>
</td>
</tr>
<tr>
<td>
<a href="../../com.r3corda.node.services.persistence/-data-vending/-service/index.html">Service</a></td>
<td>
<code><span class="keyword">class </span><span class="identifier">Service</span>&nbsp;<span class="symbol">:</span>&nbsp;<span class="identifier">AbstractNodeService</span></code><p>This class sets up network message handlers for requests from peers for data keyed by hash. It is a piece of simple
glue that sits between the network layer and the database layer.</p>
</td>
</tr>
<tr>
<td>
<a href="../../com.r3corda.demos.api/-node-interest-rates/-service/index.html">Service</a></td>
<td>
<code><span class="keyword">class </span><span class="identifier">Service</span>&nbsp;<span class="symbol">:</span>&nbsp;<a href="../-accepts-file-upload/index.html"><span class="identifier">AcceptsFileUpload</span></a><span class="symbol">, </span><span class="identifier">AbstractNodeService</span></code><p>The Service that wraps <a href="../../com.r3corda.demos.api/-node-interest-rates/-oracle/index.html">Oracle</a> and handles messages/network interaction/request scrubbing.</p>
</td>
</tr>
<tr>
<td>
<a href="../../com.r3corda.demos.protocols/-auto-offer-protocol/-service/index.html">Service</a></td>
<td>
<code><span class="keyword">class </span><span class="identifier">Service</span>&nbsp;<span class="symbol">:</span>&nbsp;<span class="identifier">AbstractNodeService</span></code></td>
</tr>
</tbody>
</table>
</BODY>
</HTML>
