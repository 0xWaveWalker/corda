<HTML>
<HEAD>
<title>NodeMonitorService - </title>
<link rel="stylesheet" href="../../style.css">
</HEAD>
<BODY>
<a href="../index.html">com.r3corda.node.services.monitor</a>&nbsp;/&nbsp;<a href=".">NodeMonitorService</a><br/>
<br/>
<h1>NodeMonitorService</h1>
<code><span class="keyword">class </span><span class="identifier">NodeMonitorService</span>&nbsp;<span class="symbol">:</span>&nbsp;<a href="../../com.r3corda.node.services.api/-abstract-node-service/index.html"><span class="identifier">AbstractNodeService</span></a></code><br/>
<p>Service which allows external clients to monitor the nodes vault and state machine manager, as well as trigger
actions within the node. The service also sends requests for user input back to clients, for example to enter
additional information while a protocol runs, or confirm an action.</p>
<p>This is intended to enable a range of tools from end user UI to ops tools which monitor health across a number of nodes.</p>
<br/>
<br/>
<br/>
<br/>
<h3>Types</h3>
<table>
<tbody>
<tr>
<td>
<a href="-registered-listener/index.html">RegisteredListener</a></td>
<td>
<code><span class="keyword">data</span> <span class="keyword">class </span><span class="identifier">RegisteredListener</span></code></td>
</tr>
</tbody>
</table>
<h3>Exceptions</h3>
<table>
<tbody>
<tr>
<td>
<a href="-input-state-ref-resolve-failed/index.html">InputStateRefResolveFailed</a></td>
<td>
<code><span class="keyword">class </span><span class="identifier">InputStateRefResolveFailed</span>&nbsp;<span class="symbol">:</span>&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html"><span class="identifier">Exception</span></a></code></td>
</tr>
</tbody>
</table>
<h3>Constructors</h3>
<table>
<tbody>
<tr>
<td>
<a href="-init-.html">&lt;init&gt;</a></td>
<td>
<code><span class="identifier">NodeMonitorService</span><span class="symbol">(</span><span class="identifier" id="com.r3corda.node.services.monitor.NodeMonitorService$<init>(com.r3corda.node.services.api.ServiceHubInternal, com.r3corda.node.services.statemachine.StateMachineManager)/services">services</span><span class="symbol">:</span>&nbsp;<a href="../../com.r3corda.node.services.api/-service-hub-internal/index.html"><span class="identifier">ServiceHubInternal</span></a><span class="symbol">, </span><span class="identifier" id="com.r3corda.node.services.monitor.NodeMonitorService$<init>(com.r3corda.node.services.api.ServiceHubInternal, com.r3corda.node.services.statemachine.StateMachineManager)/smm">smm</span><span class="symbol">:</span>&nbsp;<a href="../../com.r3corda.node.services.statemachine/-state-machine-manager/index.html"><span class="identifier">StateMachineManager</span></a><span class="symbol">)</span></code><p>Service which allows external clients to monitor the nodes vault and state machine manager, as well as trigger
actions within the node. The service also sends requests for user input back to clients, for example to enter
additional information while a protocol runs, or confirm an action.</p>
</td>
</tr>
</tbody>
</table>
<h3>Properties</h3>
<table>
<tbody>
<tr>
<td>
<a href="listeners.html">listeners</a></td>
<td>
<code><span class="keyword">val </span><span class="identifier">listeners</span><span class="symbol">: </span><span class="identifier">MutableSet</span><span class="symbol">&lt;</span><a href="-registered-listener/index.html"><span class="identifier">RegisteredListener</span></a><span class="symbol">&gt;</span></code></td>
</tr>
<tr>
<td>
<a href="smm.html">smm</a></td>
<td>
<code><span class="keyword">val </span><span class="identifier">smm</span><span class="symbol">: </span><a href="../../com.r3corda.node.services.statemachine/-state-machine-manager/index.html"><span class="identifier">StateMachineManager</span></a></code></td>
</tr>
</tbody>
</table>
<h3>Inherited Properties</h3>
<table>
<tbody>
<tr>
<td>
<a href="../../com.r3corda.node.services.api/-abstract-node-service/net.html">net</a></td>
<td>
<code><span class="keyword">val </span><span class="identifier">net</span><span class="symbol">: </span><a href="../../com.r3corda.node.services.api/-messaging-service-internal/index.html"><span class="identifier">MessagingServiceInternal</span></a></code></td>
</tr>
<tr>
<td>
<a href="../../com.r3corda.node.services.api/-abstract-node-service/services.html">services</a></td>
<td>
<code><span class="keyword">val </span><span class="identifier">services</span><span class="symbol">: </span><a href="../../com.r3corda.node.services.api/-service-hub-internal/index.html"><span class="identifier">ServiceHubInternal</span></a></code></td>
</tr>
</tbody>
</table>
<h3>Functions</h3>
<table>
<tbody>
<tr>
<td>
<a href="process-deregister-request.html">processDeregisterRequest</a></td>
<td>
<code><span class="keyword">fun </span><span class="identifier">processDeregisterRequest</span><span class="symbol">(</span><span class="identifier" id="com.r3corda.node.services.monitor.NodeMonitorService$processDeregisterRequest(com.r3corda.node.services.monitor.DeregisterRequest)/req">req</span><span class="symbol">:</span>&nbsp;<a href="../-deregister-request/index.html"><span class="identifier">DeregisterRequest</span></a><span class="symbol">)</span><span class="symbol">: </span><span class="identifier">Unit</span></code><p>Process a request from a monitor to remove them from the subscribers.</p>
</td>
</tr>
<tr>
<td>
<a href="process-register-request.html">processRegisterRequest</a></td>
<td>
<code><span class="keyword">fun </span><span class="identifier">processRegisterRequest</span><span class="symbol">(</span><span class="identifier" id="com.r3corda.node.services.monitor.NodeMonitorService$processRegisterRequest(com.r3corda.node.services.monitor.RegisterRequest)/req">req</span><span class="symbol">:</span>&nbsp;<a href="../-register-request/index.html"><span class="identifier">RegisterRequest</span></a><span class="symbol">)</span><span class="symbol">: </span><span class="identifier">Unit</span></code><p>Process a request from a monitor to add them to the subscribers. This includes hooks to authenticate the request,
but currently all requests pass (and theres no access control on vaults, so it has no actual meaning).</p>
</td>
</tr>
</tbody>
</table>
<h3>Inherited Functions</h3>
<table>
<tbody>
<tr>
<td>
<a href="../../com.r3corda.node.services.api/-abstract-node-service/add-message-handler.html">addMessageHandler</a></td>
<td>
<code><span class="keyword">fun </span><span class="symbol">&lt;</span><span class="identifier">Q</span>&nbsp;<span class="symbol">:</span>&nbsp;<a href="../../com.r3corda.protocols/-service-request-message/index.html"><span class="identifier">ServiceRequestMessage</span></a><span class="symbol">, </span><span class="identifier">R</span>&nbsp;<span class="symbol">:</span>&nbsp;<span class="identifier">Any</span><span class="symbol">&gt;</span> <span class="identifier">addMessageHandler</span><span class="symbol">(</span><span class="identifier" id="com.r3corda.node.services.api.AbstractNodeService$addMessageHandler(kotlin.String, kotlin.Function1((com.r3corda.node.services.api.AbstractNodeService.addMessageHandler.Q, com.r3corda.node.services.api.AbstractNodeService.addMessageHandler.R)), kotlin.Function2((com.r3corda.core.messaging.Message, java.lang.Exception, kotlin.Unit)))/topic">topic</span><span class="symbol">:</span>&nbsp;<span class="identifier">String</span><span class="symbol">, </span><span class="identifier" id="com.r3corda.node.services.api.AbstractNodeService$addMessageHandler(kotlin.String, kotlin.Function1((com.r3corda.node.services.api.AbstractNodeService.addMessageHandler.Q, com.r3corda.node.services.api.AbstractNodeService.addMessageHandler.R)), kotlin.Function2((com.r3corda.core.messaging.Message, java.lang.Exception, kotlin.Unit)))/handler">handler</span><span class="symbol">:</span>&nbsp;<span class="symbol">(</span><span class="identifier">Q</span><span class="symbol">)</span>&nbsp;<span class="symbol">-&gt;</span>&nbsp;<span class="identifier">R</span><span class="symbol">, </span><span class="identifier" id="com.r3corda.node.services.api.AbstractNodeService$addMessageHandler(kotlin.String, kotlin.Function1((com.r3corda.node.services.api.AbstractNodeService.addMessageHandler.Q, com.r3corda.node.services.api.AbstractNodeService.addMessageHandler.R)), kotlin.Function2((com.r3corda.core.messaging.Message, java.lang.Exception, kotlin.Unit)))/exceptionConsumer">exceptionConsumer</span><span class="symbol">:</span>&nbsp;<span class="symbol">(</span><a href="../../com.r3corda.core.messaging/-message/index.html"><span class="identifier">Message</span></a><span class="symbol">,</span>&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html"><span class="identifier">Exception</span></a><span class="symbol">)</span>&nbsp;<span class="symbol">-&gt;</span>&nbsp;<span class="identifier">Unit</span><span class="symbol">)</span><span class="symbol">: </span><a href="../../com.r3corda.core.messaging/-message-handler-registration.html"><span class="identifier">MessageHandlerRegistration</span></a></code><p>Register a handler for a message topic. In comparison to using net.addMessageHandler() this manages a lot of
common boilerplate code. Exceptions are caught and passed to the provided consumer.  If you just want a simple
acknowledgement response with no content, use <a href="#">com.r3corda.core.messaging.Ack</a>.</p>
<code><span class="keyword">fun </span><span class="symbol">&lt;</span><span class="identifier">Q</span>&nbsp;<span class="symbol">:</span>&nbsp;<a href="../../com.r3corda.protocols/-service-request-message/index.html"><span class="identifier">ServiceRequestMessage</span></a><span class="symbol">, </span><span class="identifier">R</span>&nbsp;<span class="symbol">:</span>&nbsp;<span class="identifier">Any</span><span class="symbol">&gt;</span> <span class="identifier">addMessageHandler</span><span class="symbol">(</span><span class="identifier" id="com.r3corda.node.services.api.AbstractNodeService$addMessageHandler(kotlin.String, kotlin.Function1((com.r3corda.node.services.api.AbstractNodeService.addMessageHandler.Q, com.r3corda.node.services.api.AbstractNodeService.addMessageHandler.R)))/topic">topic</span><span class="symbol">:</span>&nbsp;<span class="identifier">String</span><span class="symbol">, </span><span class="identifier" id="com.r3corda.node.services.api.AbstractNodeService$addMessageHandler(kotlin.String, kotlin.Function1((com.r3corda.node.services.api.AbstractNodeService.addMessageHandler.Q, com.r3corda.node.services.api.AbstractNodeService.addMessageHandler.R)))/handler">handler</span><span class="symbol">:</span>&nbsp;<span class="symbol">(</span><span class="identifier">Q</span><span class="symbol">)</span>&nbsp;<span class="symbol">-&gt;</span>&nbsp;<span class="identifier">R</span><span class="symbol">)</span><span class="symbol">: </span><a href="../../com.r3corda.core.messaging/-message-handler-registration.html"><span class="identifier">MessageHandlerRegistration</span></a></code><p>Register a handler for a message topic. In comparison to using net.addMessageHandler() this manages a lot of
common boilerplate code. Exceptions are propagated to the messaging layer.  If you just want a simple
acknowledgement response with no content, use <a href="#">com.r3corda.core.messaging.Ack</a>.</p>
</td>
</tr>
<tr>
<td>
<a href="../../com.r3corda.node.services.api/-abstract-node-service/add-protocol-handler.html">addProtocolHandler</a></td>
<td>
<code><span class="keyword">fun </span><span class="symbol">&lt;</span><span class="identifier">H</span>&nbsp;<span class="symbol">:</span>&nbsp;<a href="../../com.r3corda.protocols/-handshake-message/index.html"><span class="identifier">HandshakeMessage</span></a><span class="symbol">, </span><span class="identifier">R</span>&nbsp;<span class="symbol">:</span>&nbsp;<span class="identifier">Any</span><span class="symbol">&gt;</span> <span class="identifier">addProtocolHandler</span><span class="symbol">(</span><span class="identifier" id="com.r3corda.node.services.api.AbstractNodeService$addProtocolHandler(kotlin.String, kotlin.String, kotlin.Function1((com.r3corda.node.services.api.AbstractNodeService.addProtocolHandler.H, com.r3corda.core.protocols.ProtocolLogic((com.r3corda.node.services.api.AbstractNodeService.addProtocolHandler.R)))), kotlin.Function2((((com.r3corda.node.services.api.AbstractNodeService.addProtocolHandler.R)), com.r3corda.node.services.api.AbstractNodeService.addProtocolHandler.H, kotlin.Unit)))/topic">topic</span><span class="symbol">:</span>&nbsp;<span class="identifier">String</span><span class="symbol">, </span><span class="identifier" id="com.r3corda.node.services.api.AbstractNodeService$addProtocolHandler(kotlin.String, kotlin.String, kotlin.Function1((com.r3corda.node.services.api.AbstractNodeService.addProtocolHandler.H, com.r3corda.core.protocols.ProtocolLogic((com.r3corda.node.services.api.AbstractNodeService.addProtocolHandler.R)))), kotlin.Function2((((com.r3corda.node.services.api.AbstractNodeService.addProtocolHandler.R)), com.r3corda.node.services.api.AbstractNodeService.addProtocolHandler.H, kotlin.Unit)))/loggerName">loggerName</span><span class="symbol">:</span>&nbsp;<span class="identifier">String</span><span class="symbol">, </span><span class="identifier" id="com.r3corda.node.services.api.AbstractNodeService$addProtocolHandler(kotlin.String, kotlin.String, kotlin.Function1((com.r3corda.node.services.api.AbstractNodeService.addProtocolHandler.H, com.r3corda.core.protocols.ProtocolLogic((com.r3corda.node.services.api.AbstractNodeService.addProtocolHandler.R)))), kotlin.Function2((((com.r3corda.node.services.api.AbstractNodeService.addProtocolHandler.R)), com.r3corda.node.services.api.AbstractNodeService.addProtocolHandler.H, kotlin.Unit)))/protocolFactory">protocolFactory</span><span class="symbol">:</span>&nbsp;<span class="symbol">(</span><span class="identifier">H</span><span class="symbol">)</span>&nbsp;<span class="symbol">-&gt;</span>&nbsp;<a href="../../com.r3corda.core.protocols/-protocol-logic/index.html"><span class="identifier">ProtocolLogic</span></a><span class="symbol">&lt;</span><span class="identifier">R</span><span class="symbol">&gt;</span><span class="symbol">, </span><span class="identifier" id="com.r3corda.node.services.api.AbstractNodeService$addProtocolHandler(kotlin.String, kotlin.String, kotlin.Function1((com.r3corda.node.services.api.AbstractNodeService.addProtocolHandler.H, com.r3corda.core.protocols.ProtocolLogic((com.r3corda.node.services.api.AbstractNodeService.addProtocolHandler.R)))), kotlin.Function2((((com.r3corda.node.services.api.AbstractNodeService.addProtocolHandler.R)), com.r3corda.node.services.api.AbstractNodeService.addProtocolHandler.H, kotlin.Unit)))/onResultFuture">onResultFuture</span><span class="symbol">:</span>&nbsp;<span class="symbol">(</span><span class="identifier">&lt;ERROR CLASS&gt;</span><span class="symbol">&lt;</span><span class="identifier">R</span><span class="symbol">&gt;</span><span class="symbol">,</span>&nbsp;<span class="identifier">H</span><span class="symbol">)</span>&nbsp;<span class="symbol">-&gt;</span>&nbsp;<span class="identifier">Unit</span><span class="symbol">)</span><span class="symbol">: </span><span class="identifier">Unit</span></code><p>Register a handler to kick-off a protocol when a <a href="../../com.r3corda.protocols/-handshake-message/index.html">HandshakeMessage</a> is received by the node. This performs the
necessary steps to enable communication between the two protocols, including calling ProtocolLogic.registerSession.</p>
<code><span class="keyword">fun </span><span class="symbol">&lt;</span><span class="identifier">H</span>&nbsp;<span class="symbol">:</span>&nbsp;<a href="../../com.r3corda.protocols/-handshake-message/index.html"><span class="identifier">HandshakeMessage</span></a><span class="symbol">, </span><span class="identifier">R</span>&nbsp;<span class="symbol">:</span>&nbsp;<span class="identifier">Any</span><span class="symbol">&gt;</span> <span class="identifier">addProtocolHandler</span><span class="symbol">(</span><span class="identifier" id="com.r3corda.node.services.api.AbstractNodeService$addProtocolHandler(kotlin.String, kotlin.String, kotlin.Function1((com.r3corda.node.services.api.AbstractNodeService.addProtocolHandler.H, com.r3corda.core.protocols.ProtocolLogic((com.r3corda.node.services.api.AbstractNodeService.addProtocolHandler.R)))))/topic">topic</span><span class="symbol">:</span>&nbsp;<span class="identifier">String</span><span class="symbol">, </span><span class="identifier" id="com.r3corda.node.services.api.AbstractNodeService$addProtocolHandler(kotlin.String, kotlin.String, kotlin.Function1((com.r3corda.node.services.api.AbstractNodeService.addProtocolHandler.H, com.r3corda.core.protocols.ProtocolLogic((com.r3corda.node.services.api.AbstractNodeService.addProtocolHandler.R)))))/loggerName">loggerName</span><span class="symbol">:</span>&nbsp;<span class="identifier">String</span><span class="symbol">, </span><span class="identifier" id="com.r3corda.node.services.api.AbstractNodeService$addProtocolHandler(kotlin.String, kotlin.String, kotlin.Function1((com.r3corda.node.services.api.AbstractNodeService.addProtocolHandler.H, com.r3corda.core.protocols.ProtocolLogic((com.r3corda.node.services.api.AbstractNodeService.addProtocolHandler.R)))))/protocolFactory">protocolFactory</span><span class="symbol">:</span>&nbsp;<span class="symbol">(</span><span class="identifier">H</span><span class="symbol">)</span>&nbsp;<span class="symbol">-&gt;</span>&nbsp;<a href="../../com.r3corda.core.protocols/-protocol-logic/index.html"><span class="identifier">ProtocolLogic</span></a><span class="symbol">&lt;</span><span class="identifier">R</span><span class="symbol">&gt;</span><span class="symbol">)</span><span class="symbol">: </span><span class="identifier">Unit</span></code></td>
</tr>
</tbody>
</table>
<h3>Companion Object Properties</h3>
<table>
<tbody>
<tr>
<td>
<a href="-d-e-r-e-g-i-s-t-e-r_-t-o-p-i-c.html">DEREGISTER_TOPIC</a></td>
<td>
<code><span class="keyword">val </span><span class="identifier">DEREGISTER_TOPIC</span><span class="symbol">: </span><span class="identifier">String</span></code></td>
</tr>
<tr>
<td>
<a href="-i-n_-e-v-e-n-t_-t-o-p-i-c.html">IN_EVENT_TOPIC</a></td>
<td>
<code><span class="keyword">val </span><span class="identifier">IN_EVENT_TOPIC</span><span class="symbol">: </span><span class="identifier">String</span></code></td>
</tr>
<tr>
<td>
<a href="-o-u-t_-e-v-e-n-t_-t-o-p-i-c.html">OUT_EVENT_TOPIC</a></td>
<td>
<code><span class="keyword">val </span><span class="identifier">OUT_EVENT_TOPIC</span><span class="symbol">: </span><span class="identifier">String</span></code></td>
</tr>
<tr>
<td>
<a href="-r-e-g-i-s-t-e-r_-t-o-p-i-c.html">REGISTER_TOPIC</a></td>
<td>
<code><span class="keyword">val </span><span class="identifier">REGISTER_TOPIC</span><span class="symbol">: </span><span class="identifier">String</span></code></td>
</tr>
<tr>
<td>
<a href="-s-t-a-t-e_-t-o-p-i-c.html">STATE_TOPIC</a></td>
<td>
<code><span class="keyword">val </span><span class="identifier">STATE_TOPIC</span><span class="symbol">: </span><span class="identifier">String</span></code></td>
</tr>
<tr>
<td>
<a href="logger.html">logger</a></td>
<td>
<code><span class="keyword">val </span><span class="identifier">logger</span><span class="symbol">: </span><span class="identifier">&lt;ERROR CLASS&gt;</span></code></td>
</tr>
</tbody>
</table>
</BODY>
</HTML>
