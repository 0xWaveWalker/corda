<HTML>
<HEAD>
<title>InMemoryMessagingNetwork.InMemoryMessaging - </title>
<link rel="stylesheet" href="../../../style.css">
</HEAD>
<BODY>
<a href="../../index.html">com.r3corda.node.services.network</a>&nbsp;/&nbsp;<a href="../index.html">InMemoryMessagingNetwork</a>&nbsp;/&nbsp;<a href=".">InMemoryMessaging</a><br/>
<br/>
<h1>InMemoryMessaging</h1>
<code><span class="keyword">inner</span> <span class="keyword">class </span><span class="identifier">InMemoryMessaging</span>&nbsp;<span class="symbol">:</span>&nbsp;<a href="../../../com.r3corda.core.serialization/-singleton-serialize-as-token/index.html"><span class="identifier">SingletonSerializeAsToken</span></a><span class="symbol">, </span><a href="../../../com.r3corda.core.messaging/-messaging-service/index.html"><span class="identifier">MessagingService</span></a></code><br/>
<p>An InMemoryMessaging provides a <a href="../../../com.r3corda.core.messaging/-messaging-service/index.html">MessagingService</a> that isnt backed by any kind of network or disk storage
system, but just uses regular queues on the heap instead. It is intended for unit testing and developer convenience
when all entities on the network are being simulated in-process.</p>
<p>An instance can be obtained by creating a builder and then using the start method.</p>
<br/>
<br/>
<br/>
<br/>
<h3>Types</h3>
<table>
<tbody>
<tr>
<td>
<a href="-handler/index.html">Handler</a></td>
<td>
<code><span class="keyword">inner</span> <span class="keyword">class </span><span class="identifier">Handler</span>&nbsp;<span class="symbol">:</span>&nbsp;<a href="../../../com.r3corda.core.messaging/-message-handler-registration.html"><span class="identifier">MessageHandlerRegistration</span></a></code></td>
</tr>
<tr>
<td>
<a href="-inner-state/index.html">InnerState</a></td>
<td>
<code><span class="keyword">inner</span> <span class="keyword">class </span><span class="identifier">InnerState</span></code></td>
</tr>
</tbody>
</table>
<h3>Constructors</h3>
<table>
<tbody>
<tr>
<td>
<a href="-init-.html">&lt;init&gt;</a></td>
<td>
<code><span class="identifier">InMemoryMessaging</span><span class="symbol">(</span><span class="identifier" id="com.r3corda.node.services.network.InMemoryMessagingNetwork.InMemoryMessaging$<init>(kotlin.Boolean, com.r3corda.node.services.network.InMemoryMessagingNetwork.Handle)/manuallyPumped">manuallyPumped</span><span class="symbol">:</span>&nbsp;<span class="identifier">Boolean</span><span class="symbol">, </span><span class="identifier" id="com.r3corda.node.services.network.InMemoryMessagingNetwork.InMemoryMessaging$<init>(kotlin.Boolean, com.r3corda.node.services.network.InMemoryMessagingNetwork.Handle)/handle">handle</span><span class="symbol">:</span>&nbsp;<a href="../-handle/index.html"><span class="identifier">Handle</span></a><span class="symbol">)</span></code><p>An InMemoryMessaging provides a <a href="../../../com.r3corda.core.messaging/-messaging-service/index.html">MessagingService</a> that isnt backed by any kind of network or disk storage
system, but just uses regular queues on the heap instead. It is intended for unit testing and developer convenience
when all entities on the network are being simulated in-process.</p>
</td>
</tr>
</tbody>
</table>
<h3>Properties</h3>
<table>
<tbody>
<tr>
<td>
<a href="background-thread.html">backgroundThread</a></td>
<td>
<code><span class="keyword">val </span><span class="identifier">backgroundThread</span><span class="symbol">: </span><span class="identifier">Nothing</span><span class="symbol">?</span></code></td>
</tr>
<tr>
<td>
<a href="my-address.html">myAddress</a></td>
<td>
<code><span class="keyword">val </span><span class="identifier">myAddress</span><span class="symbol">: </span><a href="../../../com.r3corda.core.messaging/-single-message-recipient.html"><span class="identifier">SingleMessageRecipient</span></a></code><p>Returns an address that refers to this node.</p>
</td>
</tr>
<tr>
<td>
<a href="running.html">running</a></td>
<td>
<code><span class="keyword">var </span><span class="identifier">running</span><span class="symbol">: </span><span class="identifier">Boolean</span></code></td>
</tr>
<tr>
<td>
<a href="state.html">state</a></td>
<td>
<code><span class="keyword">val </span><span class="identifier">state</span><span class="symbol">: </span><a href="../../../com.r3corda.core/-thread-box/index.html"><span class="identifier">ThreadBox</span></a><span class="symbol">&lt;</span><a href="-inner-state/index.html"><span class="identifier">InnerState</span></a><span class="symbol">&gt;</span></code></td>
</tr>
</tbody>
</table>
<h3>Functions</h3>
<table>
<tbody>
<tr>
<td>
<a href="add-message-handler.html">addMessageHandler</a></td>
<td>
<code><span class="keyword">fun </span><span class="identifier">addMessageHandler</span><span class="symbol">(</span><span class="identifier" id="com.r3corda.node.services.network.InMemoryMessagingNetwork.InMemoryMessaging$addMessageHandler(kotlin.String, java.util.concurrent.Executor, kotlin.Function2((com.r3corda.core.messaging.Message, com.r3corda.core.messaging.MessageHandlerRegistration, kotlin.Unit)))/topic">topic</span><span class="symbol">:</span>&nbsp;<span class="identifier">String</span><span class="symbol">, </span><span class="identifier" id="com.r3corda.node.services.network.InMemoryMessagingNetwork.InMemoryMessaging$addMessageHandler(kotlin.String, java.util.concurrent.Executor, kotlin.Function2((com.r3corda.core.messaging.Message, com.r3corda.core.messaging.MessageHandlerRegistration, kotlin.Unit)))/executor">executor</span><span class="symbol">:</span>&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/Executor.html"><span class="identifier">Executor</span></a><span class="symbol">?</span><span class="symbol">, </span><span class="identifier" id="com.r3corda.node.services.network.InMemoryMessagingNetwork.InMemoryMessaging$addMessageHandler(kotlin.String, java.util.concurrent.Executor, kotlin.Function2((com.r3corda.core.messaging.Message, com.r3corda.core.messaging.MessageHandlerRegistration, kotlin.Unit)))/callback">callback</span><span class="symbol">:</span>&nbsp;<span class="symbol">(</span><a href="../../../com.r3corda.core.messaging/-message/index.html"><span class="identifier">Message</span></a><span class="symbol">,</span>&nbsp;<a href="../../../com.r3corda.core.messaging/-message-handler-registration.html"><span class="identifier">MessageHandlerRegistration</span></a><span class="symbol">)</span>&nbsp;<span class="symbol">-&gt;</span>&nbsp;<span class="identifier">Unit</span><span class="symbol">)</span><span class="symbol">: </span><a href="../../../com.r3corda.core.messaging/-message-handler-registration.html"><span class="identifier">MessageHandlerRegistration</span></a></code><p>The provided function will be invoked for each received message whose topic matches the given string, on the given
executor. The topic can be the empty string to match all messages.</p>
</td>
</tr>
<tr>
<td>
<a href="create-message.html">createMessage</a></td>
<td>
<code><span class="keyword">fun </span><span class="identifier">createMessage</span><span class="symbol">(</span><span class="identifier" id="com.r3corda.node.services.network.InMemoryMessagingNetwork.InMemoryMessaging$createMessage(kotlin.String, kotlin.ByteArray)/topic">topic</span><span class="symbol">:</span>&nbsp;<span class="identifier">String</span><span class="symbol">, </span><span class="identifier" id="com.r3corda.node.services.network.InMemoryMessagingNetwork.InMemoryMessaging$createMessage(kotlin.String, kotlin.ByteArray)/data">data</span><span class="symbol">:</span>&nbsp;<span class="identifier">ByteArray</span><span class="symbol">)</span><span class="symbol">: </span><a href="../../../com.r3corda.core.messaging/-message/index.html"><span class="identifier">Message</span></a></code><p>Returns the given (topic, data) pair as a newly created message object.</p>
</td>
</tr>
<tr>
<td>
<a href="pump.html">pump</a></td>
<td>
<code><span class="keyword">fun </span><span class="identifier">pump</span><span class="symbol">(</span><span class="identifier" id="com.r3corda.node.services.network.InMemoryMessagingNetwork.InMemoryMessaging$pump(kotlin.Boolean)/block">block</span><span class="symbol">:</span>&nbsp;<span class="identifier">Boolean</span><span class="symbol">)</span><span class="symbol">: </span><a href="../-message-transfer/index.html"><span class="identifier">MessageTransfer</span></a><span class="symbol">?</span></code><p>Delivers a single message from the internal queue. If there are no messages waiting to be delivered and block
is true, waits until one has been provided on a different thread via send. If block is false, the return
result indicates whether a message was delivered or not.</p>
</td>
</tr>
<tr>
<td>
<a href="remove-message-handler.html">removeMessageHandler</a></td>
<td>
<code><span class="keyword">fun </span><span class="identifier">removeMessageHandler</span><span class="symbol">(</span><span class="identifier" id="com.r3corda.node.services.network.InMemoryMessagingNetwork.InMemoryMessaging$removeMessageHandler(com.r3corda.core.messaging.MessageHandlerRegistration)/registration">registration</span><span class="symbol">:</span>&nbsp;<a href="../../../com.r3corda.core.messaging/-message-handler-registration.html"><span class="identifier">MessageHandlerRegistration</span></a><span class="symbol">)</span><span class="symbol">: </span><span class="identifier">Unit</span></code><p>Removes a handler given the object returned from <a href="add-message-handler.html">addMessageHandler</a>. The callback will no longer be invoked once
this method has returned, although executions that are currently in flight will not be interrupted.</p>
</td>
</tr>
<tr>
<td>
<a href="send.html">send</a></td>
<td>
<code><span class="keyword">fun </span><span class="identifier">send</span><span class="symbol">(</span><span class="identifier" id="com.r3corda.node.services.network.InMemoryMessagingNetwork.InMemoryMessaging$send(com.r3corda.core.messaging.Message, com.r3corda.core.messaging.MessageRecipients)/message">message</span><span class="symbol">:</span>&nbsp;<a href="../../../com.r3corda.core.messaging/-message/index.html"><span class="identifier">Message</span></a><span class="symbol">, </span><span class="identifier" id="com.r3corda.node.services.network.InMemoryMessagingNetwork.InMemoryMessaging$send(com.r3corda.core.messaging.Message, com.r3corda.core.messaging.MessageRecipients)/target">target</span><span class="symbol">:</span>&nbsp;<a href="../../../com.r3corda.core.messaging/-message-recipients.html"><span class="identifier">MessageRecipients</span></a><span class="symbol">)</span><span class="symbol">: </span><span class="identifier">Unit</span></code><p>Sends a message to the given receiver. The details of how receivers are identified is up to the messaging
implementation: the type system provides an opaque high level view, with more fine grained control being
available via type casting. Once this function returns the message is queued for delivery but not necessarily
delivered: if the recipients are offline then the message could be queued hours or days later.</p>
</td>
</tr>
<tr>
<td>
<a href="stop.html">stop</a></td>
<td>
<code><span class="keyword">fun </span><span class="identifier">stop</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">: </span><span class="identifier">Unit</span></code></td>
</tr>
</tbody>
</table>
<h3>Inherited Functions</h3>
<table>
<tbody>
<tr>
<td>
<a href="../../../com.r3corda.core.serialization/-singleton-serialize-as-token/to-token.html">toToken</a></td>
<td>
<code><span class="keyword">open</span> <span class="keyword">fun </span><span class="identifier">toToken</span><span class="symbol">(</span><span class="identifier" id="com.r3corda.core.serialization.SingletonSerializeAsToken$toToken(com.r3corda.core.serialization.SerializeAsTokenContext)/context">context</span><span class="symbol">:</span>&nbsp;<a href="../../../com.r3corda.core.serialization/-serialize-as-token-context/index.html"><span class="identifier">SerializeAsTokenContext</span></a><span class="symbol">)</span><span class="symbol">: </span><a href="../../../com.r3corda.core.serialization/-serialization-token/index.html"><span class="identifier">SerializationToken</span></a></code></td>
</tr>
</tbody>
</table>
</BODY>
</HTML>
