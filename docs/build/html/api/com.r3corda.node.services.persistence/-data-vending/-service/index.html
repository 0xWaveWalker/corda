<HTML>
<HEAD>
<title>DataVending.Service - </title>
<link rel="stylesheet" href="../../../style.css">
</HEAD>
<BODY>
<a href="../../index.html">com.r3corda.node.services.persistence</a>&nbsp;/&nbsp;<a href="../index.html">DataVending</a>&nbsp;/&nbsp;<a href=".">Service</a><br/>
<br/>
<h1>Service</h1>
<code><span class="keyword">class </span><span class="identifier">Service</span>&nbsp;<span class="symbol">:</span>&nbsp;<a href="../../../com.r3corda.node.services.api/-abstract-node-service/index.html"><span class="identifier">AbstractNodeService</span></a></code><br/>
<p>This class sets up network message handlers for requests from peers for data keyed by hash. It is a piece of simple
glue that sits between the network layer and the database layer.</p>
<p>Note that in our data model, to be able to name a thing by hash automatically gives the power to request it. There
are no access control lists. If you want to keep some data private, then you must be careful who you give its name
to, and trust that they will not pass the name onwards. If someone suspects some data might exist but does not have
its name, then the 256-bit search space theyd have to cover makes it physically impossible to enumerate, and as
such the hash of a piece of data can be seen as a type of password allowing access to it.</p>
<p>Additionally, because nodes do not store invalid transactions, requesting such a transaction will always yield null.</p>
<br/>
<br/>
<br/>
<br/>
<h3>Exceptions</h3>
<table>
<tbody>
<tr>
<td>
<a href="-transaction-rejected-error/index.html">TransactionRejectedError</a></td>
<td>
<code><span class="keyword">class </span><span class="identifier">TransactionRejectedError</span>&nbsp;<span class="symbol">:</span>&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html"><span class="identifier">Exception</span></a></code></td>
</tr>
</tbody>
</table>
<h3>Constructors</h3>
<table>
<tbody>
<tr>
<td>
<a href="-init-.html">&lt;init&gt;</a></td>
<td>
<code><span class="identifier">Service</span><span class="symbol">(</span><span class="identifier" id="com.r3corda.node.services.persistence.DataVending.Service$<init>(com.r3corda.node.services.api.ServiceHubInternal)/services">services</span><span class="symbol">:</span>&nbsp;<a href="../../../com.r3corda.node.services.api/-service-hub-internal/index.html"><span class="identifier">ServiceHubInternal</span></a><span class="symbol">)</span></code><p>This class sets up network message handlers for requests from peers for data keyed by hash. It is a piece of simple
glue that sits between the network layer and the database layer.</p>
</td>
</tr>
</tbody>
</table>
<h3>Properties</h3>
<table>
<tbody>
<tr>
<td>
<a href="services.html">services</a></td>
<td>
<code><span class="keyword">val </span><span class="identifier">services</span><span class="symbol">: </span><a href="../../../com.r3corda.node.services.api/-service-hub-internal/index.html"><span class="identifier">ServiceHubInternal</span></a></code></td>
</tr>
<tr>
<td>
<a href="storage.html">storage</a></td>
<td>
<code><span class="keyword">val </span><span class="identifier">storage</span><span class="symbol">: </span><a href="../../../com.r3corda.core.node.services/-storage-service/index.html"><span class="identifier">StorageService</span></a></code></td>
</tr>
</tbody>
</table>
<h3>Inherited Properties</h3>
<table>
<tbody>
<tr>
<td>
<a href="../../../com.r3corda.node.services.api/-abstract-node-service/net.html">net</a></td>
<td>
<code><span class="keyword">val </span><span class="identifier">net</span><span class="symbol">: </span><a href="../../../com.r3corda.core.messaging/-messaging-service/index.html"><span class="identifier">MessagingService</span></a></code></td>
</tr>
<tr>
<td>
<a href="../../../com.r3corda.node.services.api/-abstract-node-service/network-map-cache.html">networkMapCache</a></td>
<td>
<code><span class="keyword">val </span><span class="identifier">networkMapCache</span><span class="symbol">: </span><a href="../../../com.r3corda.core.node.services/-network-map-cache/index.html"><span class="identifier">NetworkMapCache</span></a></code></td>
</tr>
</tbody>
</table>
<h3>Inherited Functions</h3>
<table>
<tbody>
<tr>
<td>
<a href="../../../com.r3corda.node.services.api/-abstract-node-service/add-message-handler.html">addMessageHandler</a></td>
<td>
<code><span class="keyword">fun </span><span class="symbol">&lt;</span><span class="identifier">Q</span>&nbsp;<span class="symbol">:</span>&nbsp;<a href="../../../com.r3corda.protocols/-service-request-message/index.html"><span class="identifier">ServiceRequestMessage</span></a><span class="symbol">, </span><span class="identifier">R</span>&nbsp;<span class="symbol">:</span>&nbsp;<span class="identifier">Any</span><span class="symbol">&gt;</span> <span class="identifier">addMessageHandler</span><span class="symbol">(</span><span class="identifier" id="com.r3corda.node.services.api.AbstractNodeService$addMessageHandler(kotlin.String, kotlin.Function1((com.r3corda.node.services.api.AbstractNodeService.addMessageHandler.Q, com.r3corda.node.services.api.AbstractNodeService.addMessageHandler.R)), kotlin.Function2((com.r3corda.core.messaging.Message, java.lang.Exception, kotlin.Unit)))/topic">topic</span><span class="symbol">:</span>&nbsp;<span class="identifier">String</span><span class="symbol">, </span><span class="identifier" id="com.r3corda.node.services.api.AbstractNodeService$addMessageHandler(kotlin.String, kotlin.Function1((com.r3corda.node.services.api.AbstractNodeService.addMessageHandler.Q, com.r3corda.node.services.api.AbstractNodeService.addMessageHandler.R)), kotlin.Function2((com.r3corda.core.messaging.Message, java.lang.Exception, kotlin.Unit)))/handler">handler</span><span class="symbol">:</span>&nbsp;<span class="symbol">(</span><span class="identifier">Q</span><span class="symbol">)</span>&nbsp;<span class="symbol">-&gt;</span>&nbsp;<span class="identifier">R</span><span class="symbol">, </span><span class="identifier" id="com.r3corda.node.services.api.AbstractNodeService$addMessageHandler(kotlin.String, kotlin.Function1((com.r3corda.node.services.api.AbstractNodeService.addMessageHandler.Q, com.r3corda.node.services.api.AbstractNodeService.addMessageHandler.R)), kotlin.Function2((com.r3corda.core.messaging.Message, java.lang.Exception, kotlin.Unit)))/exceptionConsumer">exceptionConsumer</span><span class="symbol">:</span>&nbsp;<span class="symbol">(</span><a href="../../../com.r3corda.core.messaging/-message/index.html"><span class="identifier">Message</span></a><span class="symbol">,</span>&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/lang/Exception.html"><span class="identifier">Exception</span></a><span class="symbol">)</span>&nbsp;<span class="symbol">-&gt;</span>&nbsp;<span class="identifier">Unit</span><span class="symbol">)</span><span class="symbol">: </span><span class="identifier">Unit</span></code><p>Register a handler for a message topic. In comparison to using net.addMessageHandler() this manages a lot of
common boilerplate code. Exceptions are caught and passed to the provided consumer.  If you just want a simple
acknowledgement response with no content, use <a href="#">com.r3corda.core.messaging.Ack</a>.</p>
<code><span class="keyword">fun </span><span class="symbol">&lt;</span><span class="identifier">Q</span>&nbsp;<span class="symbol">:</span>&nbsp;<a href="../../../com.r3corda.protocols/-service-request-message/index.html"><span class="identifier">ServiceRequestMessage</span></a><span class="symbol">, </span><span class="identifier">R</span>&nbsp;<span class="symbol">:</span>&nbsp;<span class="identifier">Any</span><span class="symbol">&gt;</span> <span class="identifier">addMessageHandler</span><span class="symbol">(</span><span class="identifier" id="com.r3corda.node.services.api.AbstractNodeService$addMessageHandler(kotlin.String, kotlin.Function1((com.r3corda.node.services.api.AbstractNodeService.addMessageHandler.Q, com.r3corda.node.services.api.AbstractNodeService.addMessageHandler.R)))/topic">topic</span><span class="symbol">:</span>&nbsp;<span class="identifier">String</span><span class="symbol">, </span><span class="identifier" id="com.r3corda.node.services.api.AbstractNodeService$addMessageHandler(kotlin.String, kotlin.Function1((com.r3corda.node.services.api.AbstractNodeService.addMessageHandler.Q, com.r3corda.node.services.api.AbstractNodeService.addMessageHandler.R)))/handler">handler</span><span class="symbol">:</span>&nbsp;<span class="symbol">(</span><span class="identifier">Q</span><span class="symbol">)</span>&nbsp;<span class="symbol">-&gt;</span>&nbsp;<span class="identifier">R</span><span class="symbol">)</span><span class="symbol">: </span><span class="identifier">Unit</span></code><p>Register a handler for a message topic. In comparison to using net.addMessageHandler() this manages a lot of
common boilerplate code. Exceptions are propagated to the messaging layer.  If you just want a simple
acknowledgement response with no content, use <a href="#">com.r3corda.core.messaging.Ack</a>.</p>
</td>
</tr>
</tbody>
</table>
<h3>Companion Object Properties</h3>
<table>
<tbody>
<tr>
<td>
<a href="logger.html">logger</a></td>
<td>
<code><span class="keyword">val </span><span class="identifier">logger</span><span class="symbol">: </span><span class="identifier">&lt;ERROR CLASS&gt;</span></code></td>
</tr>
</tbody>
</table>
<h3>Companion Object Functions</h3>
<table>
<tbody>
<tr>
<td>
<a href="notify.html">notify</a></td>
<td>
<code><span class="keyword">fun </span><span class="identifier">notify</span><span class="symbol">(</span><span class="identifier" id="com.r3corda.node.services.persistence.DataVending.Service.Companion$notify(com.r3corda.core.messaging.MessagingService, com.r3corda.core.crypto.Party, com.r3corda.core.node.NodeInfo, com.r3corda.core.contracts.SignedTransaction)/net">net</span><span class="symbol">:</span>&nbsp;<a href="../../../com.r3corda.core.messaging/-messaging-service/index.html"><span class="identifier">MessagingService</span></a><span class="symbol">, </span><span class="identifier" id="com.r3corda.node.services.persistence.DataVending.Service.Companion$notify(com.r3corda.core.messaging.MessagingService, com.r3corda.core.crypto.Party, com.r3corda.core.node.NodeInfo, com.r3corda.core.contracts.SignedTransaction)/myIdentity">myIdentity</span><span class="symbol">:</span>&nbsp;<a href="../../../com.r3corda.core.crypto/-party/index.html"><span class="identifier">Party</span></a><span class="symbol">, </span><span class="identifier" id="com.r3corda.node.services.persistence.DataVending.Service.Companion$notify(com.r3corda.core.messaging.MessagingService, com.r3corda.core.crypto.Party, com.r3corda.core.node.NodeInfo, com.r3corda.core.contracts.SignedTransaction)/recipient">recipient</span><span class="symbol">:</span>&nbsp;<a href="../../../com.r3corda.core.node/-node-info/index.html"><span class="identifier">NodeInfo</span></a><span class="symbol">, </span><span class="identifier" id="com.r3corda.node.services.persistence.DataVending.Service.Companion$notify(com.r3corda.core.messaging.MessagingService, com.r3corda.core.crypto.Party, com.r3corda.core.node.NodeInfo, com.r3corda.core.contracts.SignedTransaction)/transaction">transaction</span><span class="symbol">:</span>&nbsp;<a href="../../../com.r3corda.core.contracts/-signed-transaction/index.html"><span class="identifier">SignedTransaction</span></a><span class="symbol">)</span><span class="symbol">: </span><span class="identifier">Unit</span></code><p>Notify a node of a transaction. Normally any notarisation required would happen before this is called.</p>
</td>
</tr>
</tbody>
</table>
</BODY>
</HTML>
