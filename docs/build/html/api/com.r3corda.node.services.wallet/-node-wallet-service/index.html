<HTML>
<HEAD>
<title>NodeWalletService - </title>
<link rel="stylesheet" href="../../style.css">
</HEAD>
<BODY>
<a href="../index.html">com.r3corda.node.services.wallet</a>&nbsp;/&nbsp;<a href=".">NodeWalletService</a><br/>
<br/>
<h1>NodeWalletService</h1>
<code><span class="keyword">class </span><span class="identifier">NodeWalletService</span>&nbsp;<span class="symbol">:</span>&nbsp;<a href="../../com.r3corda.core.testing/-in-memory-wallet-service/index.html"><span class="identifier">InMemoryWalletService</span></a></code><br/>
<p>Currently, the node wallet service is a very simple RDBMS backed implementation.  It will change significantly when
we add further functionality as the design for the wallet and wallet service matures.</p>
<p>TODO: move query / filter criteria into the database query.
TODO: keep an audit trail with time stamps of previously unconsumed states "as of" a particular point in time.
TODO: have transaction storage do some caching.</p>
<br/>
<br/>
<br/>
<br/>
<h3>Constructors</h3>
<table>
<tbody>
<tr>
<td>
<a href="-init-.html">&lt;init&gt;</a></td>
<td>
<code><span class="identifier">NodeWalletService</span><span class="symbol">(</span><span class="identifier" id="com.r3corda.node.services.wallet.NodeWalletService$<init>(com.r3corda.core.node.ServiceHub)/services">services</span><span class="symbol">:</span>&nbsp;<a href="../../com.r3corda.core.node/-service-hub/index.html"><span class="identifier">ServiceHub</span></a><span class="symbol">)</span></code><p>Currently, the node wallet service is a very simple RDBMS backed implementation.  It will change significantly when
we add further functionality as the design for the wallet and wallet service matures.</p>
</td>
</tr>
</tbody>
</table>
<h3>Properties</h3>
<table>
<tbody>
<tr>
<td>
<a href="log.html">log</a></td>
<td>
<code><span class="keyword">val </span><span class="identifier">log</span><span class="symbol">: </span><span class="identifier">&lt;ERROR CLASS&gt;</span></code></td>
</tr>
</tbody>
</table>
<h3>Inherited Properties</h3>
<table>
<tbody>
<tr>
<td>
<a href="../../com.r3corda.core.testing/-in-memory-wallet-service/current-wallet.html">currentWallet</a></td>
<td>
<code><span class="keyword">open</span> <span class="keyword">val </span><span class="identifier">currentWallet</span><span class="symbol">: </span><a href="../../com.r3corda.core.node.services/-wallet/index.html"><span class="identifier">Wallet</span></a></code><p>Returns a read-only snapshot of the wallet at the time the call is made. Note that if you consume states or
keys in this wallet, you must inform the wallet service so it can update its internal state.</p>
</td>
</tr>
<tr>
<td>
<a href="../../com.r3corda.core.testing/-in-memory-wallet-service/linear-heads.html">linearHeads</a></td>
<td>
<code><span class="keyword">open</span> <span class="keyword">val </span><span class="identifier">linearHeads</span><span class="symbol">: </span><span class="identifier">Map</span><span class="symbol">&lt;</span><a href="../../com.r3corda.core.contracts/-unique-identifier/index.html"><span class="identifier">UniqueIdentifier</span></a><span class="symbol">,</span>&nbsp;<a href="../../com.r3corda.core.contracts/-state-and-ref/index.html"><span class="identifier">StateAndRef</span></a><span class="symbol">&lt;</span><a href="../../com.r3corda.core.contracts/-linear-state/index.html"><span class="identifier">LinearState</span></a><span class="symbol">&gt;</span><span class="symbol">&gt;</span></code><p>Returns a snapshot of the heads of LinearStates.</p>
</td>
</tr>
<tr>
<td>
<a href="../../com.r3corda.core.testing/-in-memory-wallet-service/mutex.html">mutex</a></td>
<td>
<code><span class="keyword">val </span><span class="identifier">mutex</span><span class="symbol">: </span><a href="../../com.r3corda.core/-thread-box/index.html"><span class="identifier">ThreadBox</span></a><span class="symbol">&lt;</span><a href="../../com.r3corda.core.testing/-in-memory-wallet-service/-inner-state/index.html"><span class="identifier">InnerState</span></a><span class="symbol">&gt;</span></code></td>
</tr>
<tr>
<td>
<a href="../../com.r3corda.core.testing/-in-memory-wallet-service/services.html">services</a></td>
<td>
<code><span class="keyword">val </span><span class="identifier">services</span><span class="symbol">: </span><a href="../../com.r3corda.core.node/-service-hub/index.html"><span class="identifier">ServiceHub</span></a></code></td>
</tr>
<tr>
<td>
<a href="../../com.r3corda.core.testing/-in-memory-wallet-service/updates.html">updates</a></td>
<td>
<code><span class="keyword">open</span> <span class="keyword">val </span><span class="identifier">updates</span><span class="symbol">: </span><span class="identifier">&lt;ERROR CLASS&gt;</span><span class="symbol">&lt;</span><a href="../../com.r3corda.core.node.services/-wallet/-update/index.html"><span class="identifier">Update</span></a><span class="symbol">&gt;</span></code><p>Get a synchronous Observable of updates.  When observations are pushed to the Observer, the Wallet will already incorporate
the update.</p>
</td>
</tr>
</tbody>
</table>
<h3>Inherited Functions</h3>
<table>
<tbody>
<tr>
<td>
<a href="../../com.r3corda.core.testing/-in-memory-wallet-service/notify-all.html">notifyAll</a></td>
<td>
<code><span class="keyword">open</span> <span class="keyword">fun </span><span class="identifier">notifyAll</span><span class="symbol">(</span><span class="identifier" id="com.r3corda.core.testing.InMemoryWalletService$notifyAll(kotlin.collections.Iterable((com.r3corda.core.contracts.WireTransaction)))/txns">txns</span><span class="symbol">:</span>&nbsp;<span class="identifier">Iterable</span><span class="symbol">&lt;</span><a href="../../com.r3corda.core.contracts/-wire-transaction/index.html"><span class="identifier">WireTransaction</span></a><span class="symbol">&gt;</span><span class="symbol">)</span><span class="symbol">: </span><a href="../../com.r3corda.core.node.services/-wallet/index.html"><span class="identifier">Wallet</span></a></code><p>Possibly update the wallet by marking as spent states that these transactions consume, and adding any relevant
new states that they create. You should only insert transactions that have been successfully verified here</p>
</td>
</tr>
</tbody>
</table>
<h3>Extension Functions</h3>
<table>
<tbody>
<tr>
<td>
<a href="../../com.r3corda.core.node.services/linear-heads-of-type.html">linearHeadsOfType</a></td>
<td>
<code><span class="keyword">fun </span><span class="symbol">&lt;</span><span class="identifier">T</span>&nbsp;<span class="symbol">:</span>&nbsp;<a href="../../com.r3corda.core.contracts/-linear-state/index.html"><span class="identifier">LinearState</span></a><span class="symbol">&gt;</span> <a href="../../com.r3corda.core.node.services/-wallet-service/index.html"><span class="identifier">WalletService</span></a><span class="symbol">.</span><span class="identifier">linearHeadsOfType</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">: </span><span class="identifier">&lt;ERROR CLASS&gt;</span></code></td>
</tr>
</tbody>
</table>
</BODY>
</HTML>
