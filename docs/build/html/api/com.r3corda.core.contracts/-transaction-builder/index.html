<HTML>
<HEAD>
<title>TransactionBuilder - </title>
<link rel="stylesheet" href="../../style.css">
</HEAD>
<BODY>
<a href="../index.html">com.r3corda.core.contracts</a>&nbsp;/&nbsp;<a href=".">TransactionBuilder</a><br/>
<br/>
<h1>TransactionBuilder</h1>
<code><span class="keyword">class </span><span class="identifier">TransactionBuilder</span></code><br/>
<p>A TransactionBuilder is a transaction class thats mutable (unlike the others which are all immutable). It is
intended to be passed around contracts that may edit it by adding new states/commands or modifying the existing set.
Then once the states and commands are right, this class can be used as a holding bucket to gather signatures from
multiple parties.</p>
<br/>
<br/>
<h3>Constructors</h3>
<table>
<tbody>
<tr>
<td>
<a href="-init-.html">&lt;init&gt;</a></td>
<td>
<code><span class="identifier">TransactionBuilder</span><span class="symbol">(</span><span class="identifier" id="com.r3corda.core.contracts.TransactionBuilder$<init>(kotlin.collections.MutableList((com.r3corda.core.contracts.StateRef)), kotlin.collections.MutableList((com.r3corda.core.crypto.SecureHash)), kotlin.collections.MutableList((com.r3corda.core.contracts.ContractState)), kotlin.collections.MutableList((com.r3corda.core.contracts.Command)))/inputs">inputs</span><span class="symbol">:</span>&nbsp;<span class="identifier">MutableList</span><span class="symbol">&lt;</span><a href="../-state-ref/index.html"><span class="identifier">StateRef</span></a><span class="symbol">&gt;</span>&nbsp;<span class="symbol">=</span>&nbsp;arrayListOf()<span class="symbol">, </span><span class="identifier" id="com.r3corda.core.contracts.TransactionBuilder$<init>(kotlin.collections.MutableList((com.r3corda.core.contracts.StateRef)), kotlin.collections.MutableList((com.r3corda.core.crypto.SecureHash)), kotlin.collections.MutableList((com.r3corda.core.contracts.ContractState)), kotlin.collections.MutableList((com.r3corda.core.contracts.Command)))/attachments">attachments</span><span class="symbol">:</span>&nbsp;<span class="identifier">MutableList</span><span class="symbol">&lt;</span><a href="../../com.r3corda.core.crypto/-secure-hash/index.html"><span class="identifier">SecureHash</span></a><span class="symbol">&gt;</span>&nbsp;<span class="symbol">=</span>&nbsp;arrayListOf()<span class="symbol">, </span><span class="identifier" id="com.r3corda.core.contracts.TransactionBuilder$<init>(kotlin.collections.MutableList((com.r3corda.core.contracts.StateRef)), kotlin.collections.MutableList((com.r3corda.core.crypto.SecureHash)), kotlin.collections.MutableList((com.r3corda.core.contracts.ContractState)), kotlin.collections.MutableList((com.r3corda.core.contracts.Command)))/outputs">outputs</span><span class="symbol">:</span>&nbsp;<span class="identifier">MutableList</span><span class="symbol">&lt;</span><a href="../-contract-state/index.html"><span class="identifier">ContractState</span></a><span class="symbol">&gt;</span>&nbsp;<span class="symbol">=</span>&nbsp;arrayListOf()<span class="symbol">, </span><span class="identifier" id="com.r3corda.core.contracts.TransactionBuilder$<init>(kotlin.collections.MutableList((com.r3corda.core.contracts.StateRef)), kotlin.collections.MutableList((com.r3corda.core.crypto.SecureHash)), kotlin.collections.MutableList((com.r3corda.core.contracts.ContractState)), kotlin.collections.MutableList((com.r3corda.core.contracts.Command)))/commands">commands</span><span class="symbol">:</span>&nbsp;<span class="identifier">MutableList</span><span class="symbol">&lt;</span><a href="../-command/index.html"><span class="identifier">Command</span></a><span class="symbol">&gt;</span>&nbsp;<span class="symbol">=</span>&nbsp;arrayListOf()<span class="symbol">)</span></code><p>A TransactionBuilder is a transaction class thats mutable (unlike the others which are all immutable). It is
intended to be passed around contracts that may edit it by adding new states/commands or modifying the existing set.
Then once the states and commands are right, this class can be used as a holding bucket to gather signatures from
multiple parties.</p>
</td>
</tr>
</tbody>
</table>
<h3>Properties</h3>
<table>
<tbody>
<tr>
<td>
<a href="time.html">time</a></td>
<td>
<code><span class="keyword">val </span><span class="identifier">time</span><span class="symbol">: </span><a href="../-timestamp-command/index.html"><span class="identifier">TimestampCommand</span></a><span class="symbol">?</span></code></td>
</tr>
</tbody>
</table>
<h3>Functions</h3>
<table>
<tbody>
<tr>
<td>
<a href="add-attachment.html">addAttachment</a></td>
<td>
<code><span class="keyword">fun </span><span class="identifier">addAttachment</span><span class="symbol">(</span><span class="identifier" id="com.r3corda.core.contracts.TransactionBuilder$addAttachment(com.r3corda.core.contracts.Attachment)/attachment">attachment</span><span class="symbol">:</span>&nbsp;<a href="../-attachment/index.html"><span class="identifier">Attachment</span></a><span class="symbol">)</span><span class="symbol">: </span><span class="identifier">Unit</span></code></td>
</tr>
<tr>
<td>
<a href="add-command.html">addCommand</a></td>
<td>
<code><span class="keyword">fun </span><span class="identifier">addCommand</span><span class="symbol">(</span><span class="identifier" id="com.r3corda.core.contracts.TransactionBuilder$addCommand(com.r3corda.core.contracts.Command)/arg">arg</span><span class="symbol">:</span>&nbsp;<a href="../-command/index.html"><span class="identifier">Command</span></a><span class="symbol">)</span><span class="symbol">: </span><span class="identifier">Unit</span></code><br/>
<code><span class="keyword">fun </span><span class="identifier">addCommand</span><span class="symbol">(</span><span class="identifier" id="com.r3corda.core.contracts.TransactionBuilder$addCommand(com.r3corda.core.contracts.CommandData, kotlin.Array((java.security.PublicKey)))/data">data</span><span class="symbol">:</span>&nbsp;<a href="../-command-data.html"><span class="identifier">CommandData</span></a><span class="symbol">, </span><span class="keyword">vararg</span> <span class="identifier" id="com.r3corda.core.contracts.TransactionBuilder$addCommand(com.r3corda.core.contracts.CommandData, kotlin.Array((java.security.PublicKey)))/keys">keys</span><span class="symbol">:</span>&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/security/PublicKey.html"><span class="identifier">PublicKey</span></a><span class="symbol">)</span><span class="symbol">: </span><span class="identifier">&lt;ERROR CLASS&gt;</span></code><br/>
<code><span class="keyword">fun </span><span class="identifier">addCommand</span><span class="symbol">(</span><span class="identifier" id="com.r3corda.core.contracts.TransactionBuilder$addCommand(com.r3corda.core.contracts.CommandData, kotlin.collections.List((java.security.PublicKey)))/data">data</span><span class="symbol">:</span>&nbsp;<a href="../-command-data.html"><span class="identifier">CommandData</span></a><span class="symbol">, </span><span class="identifier" id="com.r3corda.core.contracts.TransactionBuilder$addCommand(com.r3corda.core.contracts.CommandData, kotlin.collections.List((java.security.PublicKey)))/keys">keys</span><span class="symbol">:</span>&nbsp;<span class="identifier">List</span><span class="symbol">&lt;</span><a href="http://docs.oracle.com/javase/6/docs/api/java/security/PublicKey.html"><span class="identifier">PublicKey</span></a><span class="symbol">&gt;</span><span class="symbol">)</span><span class="symbol">: </span><span class="identifier">Unit</span></code></td>
</tr>
<tr>
<td>
<a href="add-input-state.html">addInputState</a></td>
<td>
<code><span class="keyword">fun </span><span class="identifier">addInputState</span><span class="symbol">(</span><span class="identifier" id="com.r3corda.core.contracts.TransactionBuilder$addInputState(com.r3corda.core.contracts.StateRef)/ref">ref</span><span class="symbol">:</span>&nbsp;<a href="../-state-ref/index.html"><span class="identifier">StateRef</span></a><span class="symbol">)</span><span class="symbol">: </span><span class="identifier">Unit</span></code></td>
</tr>
<tr>
<td>
<a href="add-output-state.html">addOutputState</a></td>
<td>
<code><span class="keyword">fun </span><span class="identifier">addOutputState</span><span class="symbol">(</span><span class="identifier" id="com.r3corda.core.contracts.TransactionBuilder$addOutputState(com.r3corda.core.contracts.ContractState)/state">state</span><span class="symbol">:</span>&nbsp;<a href="../-contract-state/index.html"><span class="identifier">ContractState</span></a><span class="symbol">)</span><span class="symbol">: </span><span class="identifier">Unit</span></code></td>
</tr>
<tr>
<td>
<a href="add-signature-unchecked.html">addSignatureUnchecked</a></td>
<td>
<code><span class="keyword">fun </span><span class="identifier">addSignatureUnchecked</span><span class="symbol">(</span><span class="identifier" id="com.r3corda.core.contracts.TransactionBuilder$addSignatureUnchecked(com.r3corda.core.crypto.DigitalSignature.WithKey)/sig">sig</span><span class="symbol">:</span>&nbsp;<a href="../../com.r3corda.core.crypto/-digital-signature/-with-key/index.html"><span class="identifier">WithKey</span></a><span class="symbol">)</span><span class="symbol">: </span><span class="identifier">Unit</span></code><p>Adds the signature directly to the transaction, without checking it for validity.</p>
</td>
</tr>
<tr>
<td>
<a href="attachments.html">attachments</a></td>
<td>
<code><span class="keyword">fun </span><span class="identifier">attachments</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">: </span><span class="identifier">List</span><span class="symbol">&lt;</span><a href="../../com.r3corda.core.crypto/-secure-hash/index.html"><span class="identifier">SecureHash</span></a><span class="symbol">&gt;</span></code></td>
</tr>
<tr>
<td>
<a href="check-and-add-signature.html">checkAndAddSignature</a></td>
<td>
<code><span class="keyword">fun </span><span class="identifier">checkAndAddSignature</span><span class="symbol">(</span><span class="identifier" id="com.r3corda.core.contracts.TransactionBuilder$checkAndAddSignature(com.r3corda.core.crypto.DigitalSignature.WithKey)/sig">sig</span><span class="symbol">:</span>&nbsp;<a href="../../com.r3corda.core.crypto/-digital-signature/-with-key/index.html"><span class="identifier">WithKey</span></a><span class="symbol">)</span><span class="symbol">: </span><span class="identifier">Unit</span></code><p>Checks that the given signature matches one of the commands and that it is a correct signature over the tx, then
adds it.</p>
</td>
</tr>
<tr>
<td>
<a href="check-signature.html">checkSignature</a></td>
<td>
<code><span class="keyword">fun </span><span class="identifier">checkSignature</span><span class="symbol">(</span><span class="identifier" id="com.r3corda.core.contracts.TransactionBuilder$checkSignature(com.r3corda.core.crypto.DigitalSignature.WithKey)/sig">sig</span><span class="symbol">:</span>&nbsp;<a href="../../com.r3corda.core.crypto/-digital-signature/-with-key/index.html"><span class="identifier">WithKey</span></a><span class="symbol">)</span><span class="symbol">: </span><span class="identifier">Unit</span></code><p>Checks that the given signature matches one of the commands and that it is a correct signature over the tx.</p>
</td>
</tr>
<tr>
<td>
<a href="commands.html">commands</a></td>
<td>
<code><span class="keyword">fun </span><span class="identifier">commands</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">: </span><span class="identifier">List</span><span class="symbol">&lt;</span><a href="../-command/index.html"><span class="identifier">Command</span></a><span class="symbol">&gt;</span></code></td>
</tr>
<tr>
<td>
<a href="input-states.html">inputStates</a></td>
<td>
<code><span class="keyword">fun </span><span class="identifier">inputStates</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">: </span><span class="identifier">List</span><span class="symbol">&lt;</span><a href="../-state-ref/index.html"><span class="identifier">StateRef</span></a><span class="symbol">&gt;</span></code></td>
</tr>
<tr>
<td>
<a href="output-states.html">outputStates</a></td>
<td>
<code><span class="keyword">fun </span><span class="identifier">outputStates</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">: </span><span class="identifier">List</span><span class="symbol">&lt;</span><a href="../-contract-state/index.html"><span class="identifier">ContractState</span></a><span class="symbol">&gt;</span></code></td>
</tr>
<tr>
<td>
<a href="set-time.html">setTime</a></td>
<td>
<code><span class="keyword">fun </span><span class="identifier">setTime</span><span class="symbol">(</span><span class="identifier" id="com.r3corda.core.contracts.TransactionBuilder$setTime(java.time.Instant, com.r3corda.core.crypto.Party, java.time.Duration)/time">time</span><span class="symbol">:</span>&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/time/Instant.html"><span class="identifier">Instant</span></a><span class="symbol">, </span><span class="identifier" id="com.r3corda.core.contracts.TransactionBuilder$setTime(java.time.Instant, com.r3corda.core.crypto.Party, java.time.Duration)/authority">authority</span><span class="symbol">:</span>&nbsp;<a href="../../com.r3corda.core.crypto/-party/index.html"><span class="identifier">Party</span></a><span class="symbol">, </span><span class="identifier" id="com.r3corda.core.contracts.TransactionBuilder$setTime(java.time.Instant, com.r3corda.core.crypto.Party, java.time.Duration)/timeTolerance">timeTolerance</span><span class="symbol">:</span>&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/time/Duration.html"><span class="identifier">Duration</span></a><span class="symbol">)</span><span class="symbol">: </span><span class="identifier">Unit</span></code><p>Places a <a href="../-timestamp-command/index.html">TimestampCommand</a> in this transaction, removing any existing command if there is one.
The command requires a signature from the Notary service, which acts as a Timestamp Authority.
The signature can be obtained using <a href="#">NotaryProtocol</a>.</p>
</td>
</tr>
<tr>
<td>
<a href="sign-with.html">signWith</a></td>
<td>
<code><span class="keyword">fun </span><span class="identifier">signWith</span><span class="symbol">(</span><span class="identifier" id="com.r3corda.core.contracts.TransactionBuilder$signWith(java.security.KeyPair)/key">key</span><span class="symbol">:</span>&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/security/KeyPair.html"><span class="identifier">KeyPair</span></a><span class="symbol">)</span><span class="symbol">: </span><span class="identifier">Unit</span></code></td>
</tr>
<tr>
<td>
<a href="to-signed-transaction.html">toSignedTransaction</a></td>
<td>
<code><span class="keyword">fun </span><span class="identifier">toSignedTransaction</span><span class="symbol">(</span><span class="identifier" id="com.r3corda.core.contracts.TransactionBuilder$toSignedTransaction(kotlin.Boolean)/checkSufficientSignatures">checkSufficientSignatures</span><span class="symbol">:</span>&nbsp;<span class="identifier">Boolean</span>&nbsp;<span class="symbol">=</span>&nbsp;true<span class="symbol">)</span><span class="symbol">: </span><a href="../-signed-transaction/index.html"><span class="identifier">SignedTransaction</span></a></code></td>
</tr>
<tr>
<td>
<a href="to-wire-transaction.html">toWireTransaction</a></td>
<td>
<code><span class="keyword">fun </span><span class="identifier">toWireTransaction</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">: </span><a href="../-wire-transaction/index.html"><span class="identifier">WireTransaction</span></a></code></td>
</tr>
<tr>
<td>
<a href="with-items.html">withItems</a></td>
<td>
<code><span class="keyword">fun </span><span class="identifier">withItems</span><span class="symbol">(</span><span class="keyword">vararg</span> <span class="identifier" id="com.r3corda.core.contracts.TransactionBuilder$withItems(kotlin.Array((kotlin.Any)))/items">items</span><span class="symbol">:</span>&nbsp;<span class="identifier">Any</span><span class="symbol">)</span><span class="symbol">: </span><span class="identifier">TransactionBuilder</span></code><p>A more convenient way to add items to this transaction that calls the add* methods for you based on type</p>
</td>
</tr>
</tbody>
</table>
</BODY>
</HTML>
