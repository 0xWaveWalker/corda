<HTML>
<HEAD>
<title>ArtemisMessagingClient - </title>
<link rel="stylesheet" href="../../style.css">
</HEAD>
<BODY>
<a href="../index.html">com.r3corda.node.services.messaging</a>&nbsp;/&nbsp;<a href=".">ArtemisMessagingClient</a><br/>
<br/>
<h1>ArtemisMessagingClient</h1>
<code><span class="keyword">class </span><span class="identifier">ArtemisMessagingClient</span>&nbsp;<span class="symbol">:</span>&nbsp;<a href="../-artemis-messaging-component/index.html"><span class="identifier">ArtemisMessagingComponent</span></a><span class="symbol">, </span><a href="../../com.r3corda.node.services.api/-messaging-service-internal/index.html"><span class="identifier">MessagingServiceInternal</span></a></code><br/>
<p>This class implements the <a href="../../com.r3corda.core.messaging/-messaging-service/index.html">MessagingService</a> API using Apache Artemis, the successor to their ActiveMQ product.
Artemis is a message queue broker and here we run a client connecting to the specified broker instance
<a href="../-artemis-messaging-server/index.html">ArtemisMessagingServer</a>.</p>
<p>Message handlers are run on the provided <a href="../../com.r3corda.node.utilities/-affinity-executor/index.html">AffinityExecutor</a> synchronously, that is, the Artemis callback threads
are blocked until the handler is scheduled and completed. This allows backpressure to propagate from the given executor
through into Artemis and from there, back through to senders.</p>
<br/>
<br/>
<h3>Parameters</h3>
<a name="serverHostPort"></a>
<code>serverHostPort</code> - The address of the broker instance to connect to (might be running in the same process)<br/>
<br/>
<a name="myIdentity"></a>
<code>myIdentity</code> - Either the public key to be used as the ArtemisMQ address and queue name for the node globally, or null to indicate
that this is a NetworkMapService node which will be bound globally to the name "networkmap"<br/>
<br/>
<a name="executor"></a>
<code>executor</code> - An executor to run received message tasks upon.<br/>
<br/>
<a name="persistentInbox"></a>
<code>persistentInbox</code> - If true the inbox will be created persistent if not already created.
If false the inbox queue will be transient, which is appropriate for UI clients for example.<br/>
<br/>
<br/>
<h3>Types</h3>
<table>
<tbody>
<tr>
<td>
<a href="-handler/index.html">Handler</a></td>
<td>
<code><span class="keyword">data</span> <span class="keyword">class </span><span class="identifier">Handler</span>&nbsp;<span class="symbol">:</span>&nbsp;<a href="../../com.r3corda.core.messaging/-message-handler-registration.html"><span class="identifier">MessageHandlerRegistration</span></a></code><p>A registration to handle messages of different types</p>
</td>
</tr>
</tbody>
</table>
<h3>Constructors</h3>
<table>
<tbody>
<tr>
<td>
<a href="-init-.html">&lt;init&gt;</a></td>
<td>
<code><span class="identifier">ArtemisMessagingClient</span><span class="symbol">(</span><span class="identifier" id="com.r3corda.node.services.messaging.ArtemisMessagingClient$<init>(java.nio.file.Path, com.r3corda.node.services.config.NodeConfiguration, , java.security.PublicKey, com.r3corda.node.utilities.AffinityExecutor, kotlin.Boolean)/directory">directory</span><span class="symbol">:</span>&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/nio/file/Path.html"><span class="identifier">Path</span></a><span class="symbol">, </span><span class="identifier" id="com.r3corda.node.services.messaging.ArtemisMessagingClient$<init>(java.nio.file.Path, com.r3corda.node.services.config.NodeConfiguration, , java.security.PublicKey, com.r3corda.node.utilities.AffinityExecutor, kotlin.Boolean)/config">config</span><span class="symbol">:</span>&nbsp;<a href="../../com.r3corda.node.services.config/-node-configuration/index.html"><span class="identifier">NodeConfiguration</span></a><span class="symbol">, </span><span class="identifier" id="com.r3corda.node.services.messaging.ArtemisMessagingClient$<init>(java.nio.file.Path, com.r3corda.node.services.config.NodeConfiguration, , java.security.PublicKey, com.r3corda.node.utilities.AffinityExecutor, kotlin.Boolean)/serverHostPort">serverHostPort</span><span class="symbol">:</span>&nbsp;<span class="identifier">&lt;ERROR CLASS&gt;</span><span class="symbol">, </span><span class="identifier" id="com.r3corda.node.services.messaging.ArtemisMessagingClient$<init>(java.nio.file.Path, com.r3corda.node.services.config.NodeConfiguration, , java.security.PublicKey, com.r3corda.node.utilities.AffinityExecutor, kotlin.Boolean)/myIdentity">myIdentity</span><span class="symbol">:</span>&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/security/PublicKey.html"><span class="identifier">PublicKey</span></a><span class="symbol">?</span><span class="symbol">, </span><span class="identifier" id="com.r3corda.node.services.messaging.ArtemisMessagingClient$<init>(java.nio.file.Path, com.r3corda.node.services.config.NodeConfiguration, , java.security.PublicKey, com.r3corda.node.utilities.AffinityExecutor, kotlin.Boolean)/executor">executor</span><span class="symbol">:</span>&nbsp;<a href="../../com.r3corda.node.utilities/-affinity-executor/index.html"><span class="identifier">AffinityExecutor</span></a><span class="symbol">, </span><span class="identifier" id="com.r3corda.node.services.messaging.ArtemisMessagingClient$<init>(java.nio.file.Path, com.r3corda.node.services.config.NodeConfiguration, , java.security.PublicKey, com.r3corda.node.utilities.AffinityExecutor, kotlin.Boolean)/persistentInbox">persistentInbox</span><span class="symbol">:</span>&nbsp;<span class="identifier">Boolean</span>&nbsp;<span class="symbol">=</span>&nbsp;true<span class="symbol">)</span></code><p>This class implements the <a href="../../com.r3corda.core.messaging/-messaging-service/index.html">MessagingService</a> API using Apache Artemis, the successor to their ActiveMQ product.
Artemis is a message queue broker and here we run a client connecting to the specified broker instance
<a href="../-artemis-messaging-server/index.html">ArtemisMessagingServer</a>.</p>
</td>
</tr>
</tbody>
</table>
<h3>Properties</h3>
<table>
<tbody>
<tr>
<td>
<a href="executor.html">executor</a></td>
<td>
<code><span class="keyword">val </span><span class="identifier">executor</span><span class="symbol">: </span><a href="../../com.r3corda.node.utilities/-affinity-executor/index.html"><span class="identifier">AffinityExecutor</span></a></code></td>
</tr>
<tr>
<td>
<a href="my-address.html">myAddress</a></td>
<td>
<code><span class="keyword">val </span><span class="identifier">myAddress</span><span class="symbol">: </span><a href="../../com.r3corda.core.messaging/-single-message-recipient.html"><span class="identifier">SingleMessageRecipient</span></a></code><p>Apart from the NetworkMapService this is the only other address accessible to the node outside of lookups against the NetworkMapCache.</p>
</td>
</tr>
<tr>
<td>
<a href="my-identity.html">myIdentity</a></td>
<td>
<code><span class="keyword">val </span><span class="identifier">myIdentity</span><span class="symbol">: </span><a href="http://docs.oracle.com/javase/6/docs/api/java/security/PublicKey.html"><span class="identifier">PublicKey</span></a><span class="symbol">?</span></code></td>
</tr>
<tr>
<td>
<a href="persistent-inbox.html">persistentInbox</a></td>
<td>
<code><span class="keyword">val </span><span class="identifier">persistentInbox</span><span class="symbol">: </span><span class="identifier">Boolean</span></code></td>
</tr>
<tr>
<td>
<a href="server-host-port.html">serverHostPort</a></td>
<td>
<code><span class="keyword">val </span><span class="identifier">serverHostPort</span><span class="symbol">: </span><span class="identifier">&lt;ERROR CLASS&gt;</span></code></td>
</tr>
</tbody>
</table>
<h3>Inherited Properties</h3>
<table>
<tbody>
<tr>
<td>
<a href="../-artemis-messaging-component/config.html">config</a></td>
<td>
<code><span class="keyword">val </span><span class="identifier">config</span><span class="symbol">: </span><a href="../../com.r3corda.node.services.config/-node-configuration/index.html"><span class="identifier">NodeConfiguration</span></a></code></td>
</tr>
<tr>
<td>
<a href="../-artemis-messaging-component/directory.html">directory</a></td>
<td>
<code><span class="keyword">val </span><span class="identifier">directory</span><span class="symbol">: </span><a href="http://docs.oracle.com/javase/6/docs/api/java/nio/file/Path.html"><span class="identifier">Path</span></a></code></td>
</tr>
</tbody>
</table>
<h3>Functions</h3>
<table>
<tbody>
<tr>
<td>
<a href="add-message-handler.html">addMessageHandler</a></td>
<td>
<code><span class="keyword">fun </span><span class="identifier">addMessageHandler</span><span class="symbol">(</span><span class="identifier" id="com.r3corda.node.services.messaging.ArtemisMessagingClient$addMessageHandler(kotlin.String, kotlin.Long, java.util.concurrent.Executor, kotlin.Function2((com.r3corda.core.messaging.Message, com.r3corda.core.messaging.MessageHandlerRegistration, kotlin.Unit)))/topic">topic</span><span class="symbol">:</span>&nbsp;<span class="identifier">String</span><span class="symbol">, </span><span class="identifier" id="com.r3corda.node.services.messaging.ArtemisMessagingClient$addMessageHandler(kotlin.String, kotlin.Long, java.util.concurrent.Executor, kotlin.Function2((com.r3corda.core.messaging.Message, com.r3corda.core.messaging.MessageHandlerRegistration, kotlin.Unit)))/sessionID">sessionID</span><span class="symbol">:</span>&nbsp;<span class="identifier">Long</span><span class="symbol">, </span><span class="identifier" id="com.r3corda.node.services.messaging.ArtemisMessagingClient$addMessageHandler(kotlin.String, kotlin.Long, java.util.concurrent.Executor, kotlin.Function2((com.r3corda.core.messaging.Message, com.r3corda.core.messaging.MessageHandlerRegistration, kotlin.Unit)))/executor">executor</span><span class="symbol">:</span>&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/Executor.html"><span class="identifier">Executor</span></a><span class="symbol">?</span><span class="symbol">, </span><span class="identifier" id="com.r3corda.node.services.messaging.ArtemisMessagingClient$addMessageHandler(kotlin.String, kotlin.Long, java.util.concurrent.Executor, kotlin.Function2((com.r3corda.core.messaging.Message, com.r3corda.core.messaging.MessageHandlerRegistration, kotlin.Unit)))/callback">callback</span><span class="symbol">:</span>&nbsp;<span class="symbol">(</span><a href="../../com.r3corda.core.messaging/-message/index.html"><span class="identifier">Message</span></a><span class="symbol">,</span>&nbsp;<a href="../../com.r3corda.core.messaging/-message-handler-registration.html"><span class="identifier">MessageHandlerRegistration</span></a><span class="symbol">)</span>&nbsp;<span class="symbol">-&gt;</span>&nbsp;<span class="identifier">Unit</span><span class="symbol">)</span><span class="symbol">: </span><a href="../../com.r3corda.core.messaging/-message-handler-registration.html"><span class="identifier">MessageHandlerRegistration</span></a></code><p>The provided function will be invoked for each received message whose topic matches the given string, on the given
executor.</p>
<code><span class="keyword">fun </span><span class="identifier">addMessageHandler</span><span class="symbol">(</span><span class="identifier" id="com.r3corda.node.services.messaging.ArtemisMessagingClient$addMessageHandler(com.r3corda.core.messaging.TopicSession, java.util.concurrent.Executor, kotlin.Function2((com.r3corda.core.messaging.Message, com.r3corda.core.messaging.MessageHandlerRegistration, kotlin.Unit)))/topicSession">topicSession</span><span class="symbol">:</span>&nbsp;<a href="../../com.r3corda.core.messaging/-topic-session/index.html"><span class="identifier">TopicSession</span></a><span class="symbol">, </span><span class="identifier" id="com.r3corda.node.services.messaging.ArtemisMessagingClient$addMessageHandler(com.r3corda.core.messaging.TopicSession, java.util.concurrent.Executor, kotlin.Function2((com.r3corda.core.messaging.Message, com.r3corda.core.messaging.MessageHandlerRegistration, kotlin.Unit)))/executor">executor</span><span class="symbol">:</span>&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/Executor.html"><span class="identifier">Executor</span></a><span class="symbol">?</span><span class="symbol">, </span><span class="identifier" id="com.r3corda.node.services.messaging.ArtemisMessagingClient$addMessageHandler(com.r3corda.core.messaging.TopicSession, java.util.concurrent.Executor, kotlin.Function2((com.r3corda.core.messaging.Message, com.r3corda.core.messaging.MessageHandlerRegistration, kotlin.Unit)))/callback">callback</span><span class="symbol">:</span>&nbsp;<span class="symbol">(</span><a href="../../com.r3corda.core.messaging/-message/index.html"><span class="identifier">Message</span></a><span class="symbol">,</span>&nbsp;<a href="../../com.r3corda.core.messaging/-message-handler-registration.html"><span class="identifier">MessageHandlerRegistration</span></a><span class="symbol">)</span>&nbsp;<span class="symbol">-&gt;</span>&nbsp;<span class="identifier">Unit</span><span class="symbol">)</span><span class="symbol">: </span><a href="../../com.r3corda.core.messaging/-message-handler-registration.html"><span class="identifier">MessageHandlerRegistration</span></a></code><p>The provided function will be invoked for each received message whose topic and session matches, on the
given executor.</p>
</td>
</tr>
<tr>
<td>
<a href="create-message.html">createMessage</a></td>
<td>
<code><span class="keyword">fun </span><span class="identifier">createMessage</span><span class="symbol">(</span><span class="identifier" id="com.r3corda.node.services.messaging.ArtemisMessagingClient$createMessage(com.r3corda.core.messaging.TopicSession, kotlin.ByteArray)/topicSession">topicSession</span><span class="symbol">:</span>&nbsp;<a href="../../com.r3corda.core.messaging/-topic-session/index.html"><span class="identifier">TopicSession</span></a><span class="symbol">, </span><span class="identifier" id="com.r3corda.node.services.messaging.ArtemisMessagingClient$createMessage(com.r3corda.core.messaging.TopicSession, kotlin.ByteArray)/data">data</span><span class="symbol">:</span>&nbsp;<span class="identifier">ByteArray</span><span class="symbol">)</span><span class="symbol">: </span><a href="../../com.r3corda.core.messaging/-message/index.html"><span class="identifier">Message</span></a></code><br/>
<code><span class="keyword">fun </span><span class="identifier">createMessage</span><span class="symbol">(</span><span class="identifier" id="com.r3corda.node.services.messaging.ArtemisMessagingClient$createMessage(kotlin.String, kotlin.Long, kotlin.ByteArray)/topic">topic</span><span class="symbol">:</span>&nbsp;<span class="identifier">String</span><span class="symbol">, </span><span class="identifier" id="com.r3corda.node.services.messaging.ArtemisMessagingClient$createMessage(kotlin.String, kotlin.Long, kotlin.ByteArray)/sessionID">sessionID</span><span class="symbol">:</span>&nbsp;<span class="identifier">Long</span><span class="symbol">, </span><span class="identifier" id="com.r3corda.node.services.messaging.ArtemisMessagingClient$createMessage(kotlin.String, kotlin.Long, kotlin.ByteArray)/data">data</span><span class="symbol">:</span>&nbsp;<span class="identifier">ByteArray</span><span class="symbol">)</span><span class="symbol">: </span><a href="../../com.r3corda.core.messaging/-message/index.html"><span class="identifier">Message</span></a></code><p>Returns an initialised <a href="../../com.r3corda.core.messaging/-message/index.html">Message</a> with the current time, etc, already filled in.</p>
</td>
</tr>
<tr>
<td>
<a href="remove-message-handler.html">removeMessageHandler</a></td>
<td>
<code><span class="keyword">fun </span><span class="identifier">removeMessageHandler</span><span class="symbol">(</span><span class="identifier" id="com.r3corda.node.services.messaging.ArtemisMessagingClient$removeMessageHandler(com.r3corda.core.messaging.MessageHandlerRegistration)/registration">registration</span><span class="symbol">:</span>&nbsp;<a href="../../com.r3corda.core.messaging/-message-handler-registration.html"><span class="identifier">MessageHandlerRegistration</span></a><span class="symbol">)</span><span class="symbol">: </span><span class="identifier">Unit</span></code><p>Removes a handler given the object returned from <a href="add-message-handler.html">addMessageHandler</a>. The callback will no longer be invoked once
this method has returned, although executions that are currently in flight will not be interrupted.</p>
</td>
</tr>
<tr>
<td>
<a href="run.html">run</a></td>
<td>
<code><span class="keyword">fun </span><span class="identifier">run</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">: </span><span class="identifier">Unit</span></code><p>Starts the event loop: this method only returns once <a href="stop.html">stop</a> has been called.</p>
</td>
</tr>
<tr>
<td>
<a href="send.html">send</a></td>
<td>
<code><span class="keyword">fun </span><span class="identifier">send</span><span class="symbol">(</span><span class="identifier" id="com.r3corda.node.services.messaging.ArtemisMessagingClient$send(com.r3corda.core.messaging.Message, com.r3corda.core.messaging.MessageRecipients)/message">message</span><span class="symbol">:</span>&nbsp;<a href="../../com.r3corda.core.messaging/-message/index.html"><span class="identifier">Message</span></a><span class="symbol">, </span><span class="identifier" id="com.r3corda.node.services.messaging.ArtemisMessagingClient$send(com.r3corda.core.messaging.Message, com.r3corda.core.messaging.MessageRecipients)/target">target</span><span class="symbol">:</span>&nbsp;<a href="../../com.r3corda.core.messaging/-message-recipients.html"><span class="identifier">MessageRecipients</span></a><span class="symbol">)</span><span class="symbol">: </span><span class="identifier">Unit</span></code><p>Sends a message to the given receiver. The details of how receivers are identified is up to the messaging
implementation: the type system provides an opaque high level view, with more fine grained control being
available via type casting. Once this function returns the message is queued for delivery but not necessarily
delivered: if the recipients are offline then the message could be queued hours or days later.</p>
</td>
</tr>
<tr>
<td>
<a href="start.html">start</a></td>
<td>
<code><span class="keyword">fun </span><span class="identifier">start</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">: </span><span class="identifier">Unit</span></code></td>
</tr>
<tr>
<td>
<a href="stop.html">stop</a></td>
<td>
<code><span class="keyword">fun </span><span class="identifier">stop</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">: </span><span class="identifier">Unit</span></code><p>Initiates shutdown: if called from a thread that isnt controlled by the executor passed to the constructor
then this will block until all in-flight messages have finished being handled and acknowledged. If called
from a thread thats a part of the <a href="../../com.r3corda.node.utilities/-affinity-executor/index.html">AffinityExecutor</a> given to the constructor, it returns immediately and
shutdown is asynchronous.</p>
</td>
</tr>
</tbody>
</table>
<h3>Inherited Functions</h3>
<table>
<tbody>
<tr>
<td>
<a href="../-artemis-messaging-component/configure-with-dev-s-s-l-certificate.html">configureWithDevSSLCertificate</a></td>
<td>
<code><span class="keyword">fun </span><span class="identifier">configureWithDevSSLCertificate</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">: </span><span class="identifier">Unit</span></code><p>Strictly for dev only automatically construct a server certificate/private key signed from
the CA certs in Node resources. Then provision KeyStores into certificates folder under node path.</p>
</td>
</tr>
<tr>
<td>
<a href="../-artemis-messaging-component/tcp-transport.html">tcpTransport</a></td>
<td>
<code><span class="keyword">fun </span><span class="identifier">tcpTransport</span><span class="symbol">(</span><span class="identifier" id="com.r3corda.node.services.messaging.ArtemisMessagingComponent$tcpTransport(com.r3corda.node.services.messaging.ArtemisMessagingComponent.ConnectionDirection, kotlin.String, kotlin.Int)/direction">direction</span><span class="symbol">:</span>&nbsp;<a href="../-artemis-messaging-component/-connection-direction/index.html"><span class="identifier">ConnectionDirection</span></a><span class="symbol">, </span><span class="identifier" id="com.r3corda.node.services.messaging.ArtemisMessagingComponent$tcpTransport(com.r3corda.node.services.messaging.ArtemisMessagingComponent.ConnectionDirection, kotlin.String, kotlin.Int)/host">host</span><span class="symbol">:</span>&nbsp;<span class="identifier">String</span><span class="symbol">, </span><span class="identifier" id="com.r3corda.node.services.messaging.ArtemisMessagingComponent$tcpTransport(com.r3corda.node.services.messaging.ArtemisMessagingComponent.ConnectionDirection, kotlin.String, kotlin.Int)/port">port</span><span class="symbol">:</span>&nbsp;<span class="identifier">Int</span><span class="symbol">)</span><span class="symbol">: </span><span class="identifier">&lt;ERROR CLASS&gt;</span></code></td>
</tr>
<tr>
<td>
<a href="../-artemis-messaging-component/try-parse-key-from-queue-name.html">tryParseKeyFromQueueName</a></td>
<td>
<code><span class="keyword">fun </span><span class="identifier">tryParseKeyFromQueueName</span><span class="symbol">(</span><span class="identifier" id="com.r3corda.node.services.messaging.ArtemisMessagingComponent$tryParseKeyFromQueueName()/queueName">queueName</span><span class="symbol">:</span>&nbsp;<span class="identifier">&lt;ERROR CLASS&gt;</span><span class="symbol">)</span><span class="symbol">: </span><a href="http://docs.oracle.com/javase/6/docs/api/java/security/PublicKey.html"><span class="identifier">PublicKey</span></a><span class="symbol">?</span></code></td>
</tr>
</tbody>
</table>
<h3>Companion Object Properties</h3>
<table>
<tbody>
<tr>
<td>
<a href="-s-e-s-s-i-o-n_-i-d_-p-r-o-p-e-r-t-y.html">SESSION_ID_PROPERTY</a></td>
<td>
<code><span class="keyword">val </span><span class="identifier">SESSION_ID_PROPERTY</span><span class="symbol">: </span><span class="identifier">String</span></code></td>
</tr>
<tr>
<td>
<a href="-t-o-p-i-c_-p-r-o-p-e-r-t-y.html">TOPIC_PROPERTY</a></td>
<td>
<code><span class="keyword">val </span><span class="identifier">TOPIC_PROPERTY</span><span class="symbol">: </span><span class="identifier">String</span></code></td>
</tr>
<tr>
<td>
<a href="log.html">log</a></td>
<td>
<code><span class="keyword">val </span><span class="identifier">log</span><span class="symbol">: </span><span class="identifier">&lt;ERROR CLASS&gt;</span></code></td>
</tr>
</tbody>
</table>
<h3>Companion Object Functions</h3>
<table>
<tbody>
<tr>
<td>
<a href="make-network-map-address.html">makeNetworkMapAddress</a></td>
<td>
<code><span class="keyword">fun </span><span class="identifier">makeNetworkMapAddress</span><span class="symbol">(</span><span class="identifier" id="com.r3corda.node.services.messaging.ArtemisMessagingClient.Companion$makeNetworkMapAddress()/hostAndPort">hostAndPort</span><span class="symbol">:</span>&nbsp;<span class="identifier">&lt;ERROR CLASS&gt;</span><span class="symbol">)</span><span class="symbol">: </span><a href="../../com.r3corda.core.messaging/-single-message-recipient.html"><span class="identifier">SingleMessageRecipient</span></a></code><p>This should be the only way to generate an ArtemisAddress and that only of the remote NetworkMapService node.
All other addresses come from the NetworkMapCache, or myAddress below.
The node will populate with their own identity based address when they register with the NetworkMapService.</p>
</td>
</tr>
</tbody>
</table>
<h3>Extension Functions</h3>
<table>
<tbody>
<tr>
<td>
<a href="../../com.r3corda.core.messaging/run-on-next-message.html">runOnNextMessage</a></td>
<td>
<code><span class="keyword">fun </span><a href="../../com.r3corda.core.messaging/-messaging-service/index.html"><span class="identifier">MessagingService</span></a><span class="symbol">.</span><span class="identifier">runOnNextMessage</span><span class="symbol">(</span><span class="identifier" id="com.r3corda.core.messaging$runOnNextMessage(com.r3corda.core.messaging.MessagingService, kotlin.String, kotlin.Long, java.util.concurrent.Executor, kotlin.Function1((com.r3corda.core.messaging.Message, kotlin.Unit)))/topic">topic</span><span class="symbol">:</span>&nbsp;<span class="identifier">String</span><span class="symbol">, </span><span class="identifier" id="com.r3corda.core.messaging$runOnNextMessage(com.r3corda.core.messaging.MessagingService, kotlin.String, kotlin.Long, java.util.concurrent.Executor, kotlin.Function1((com.r3corda.core.messaging.Message, kotlin.Unit)))/sessionID">sessionID</span><span class="symbol">:</span>&nbsp;<span class="identifier">Long</span><span class="symbol">, </span><span class="identifier" id="com.r3corda.core.messaging$runOnNextMessage(com.r3corda.core.messaging.MessagingService, kotlin.String, kotlin.Long, java.util.concurrent.Executor, kotlin.Function1((com.r3corda.core.messaging.Message, kotlin.Unit)))/executor">executor</span><span class="symbol">:</span>&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/Executor.html"><span class="identifier">Executor</span></a><span class="symbol">?</span>&nbsp;<span class="symbol">=</span>&nbsp;null<span class="symbol">, </span><span class="identifier" id="com.r3corda.core.messaging$runOnNextMessage(com.r3corda.core.messaging.MessagingService, kotlin.String, kotlin.Long, java.util.concurrent.Executor, kotlin.Function1((com.r3corda.core.messaging.Message, kotlin.Unit)))/callback">callback</span><span class="symbol">:</span>&nbsp;<span class="symbol">(</span><a href="../../com.r3corda.core.messaging/-message/index.html"><span class="identifier">Message</span></a><span class="symbol">)</span>&nbsp;<span class="symbol">-&gt;</span>&nbsp;<span class="identifier">Unit</span><span class="symbol">)</span><span class="symbol">: </span><span class="identifier">Unit</span></code><p>Registers a handler for the given topic and session ID that runs the given callback with the message and then removes
itself. This is useful for one-shot handlers that arent supposed to stick around permanently. Note that this callback
doesnt take the registration object, unlike the callback to <a href="../../com.r3corda.core.messaging/-messaging-service/add-message-handler.html">MessagingService.addMessageHandler</a>, as the handler is
automatically deregistered before the callback runs.</p>
<code><span class="keyword">fun </span><a href="../../com.r3corda.core.messaging/-messaging-service/index.html"><span class="identifier">MessagingService</span></a><span class="symbol">.</span><span class="identifier">runOnNextMessage</span><span class="symbol">(</span><span class="identifier" id="com.r3corda.core.messaging$runOnNextMessage(com.r3corda.core.messaging.MessagingService, com.r3corda.core.messaging.TopicSession, java.util.concurrent.Executor, kotlin.Function1((com.r3corda.core.messaging.Message, kotlin.Unit)))/topicSession">topicSession</span><span class="symbol">:</span>&nbsp;<a href="../../com.r3corda.core.messaging/-topic-session/index.html"><span class="identifier">TopicSession</span></a><span class="symbol">, </span><span class="identifier" id="com.r3corda.core.messaging$runOnNextMessage(com.r3corda.core.messaging.MessagingService, com.r3corda.core.messaging.TopicSession, java.util.concurrent.Executor, kotlin.Function1((com.r3corda.core.messaging.Message, kotlin.Unit)))/executor">executor</span><span class="symbol">:</span>&nbsp;<a href="http://docs.oracle.com/javase/6/docs/api/java/util/concurrent/Executor.html"><span class="identifier">Executor</span></a><span class="symbol">?</span>&nbsp;<span class="symbol">=</span>&nbsp;null<span class="symbol">, </span><span class="identifier" id="com.r3corda.core.messaging$runOnNextMessage(com.r3corda.core.messaging.MessagingService, com.r3corda.core.messaging.TopicSession, java.util.concurrent.Executor, kotlin.Function1((com.r3corda.core.messaging.Message, kotlin.Unit)))/callback">callback</span><span class="symbol">:</span>&nbsp;<span class="symbol">(</span><a href="../../com.r3corda.core.messaging/-message/index.html"><span class="identifier">Message</span></a><span class="symbol">)</span>&nbsp;<span class="symbol">-&gt;</span>&nbsp;<span class="identifier">Unit</span><span class="symbol">)</span><span class="symbol">: </span><span class="identifier">Unit</span></code><p>Registers a handler for the given topic and session that runs the given callback with the message and then removes
itself. This is useful for one-shot handlers that arent supposed to stick around permanently. Note that this callback
doesnt take the registration object, unlike the callback to <a href="../../com.r3corda.core.messaging/-messaging-service/add-message-handler.html">MessagingService.addMessageHandler</a>.</p>
</td>
</tr>
<tr>
<td>
<a href="../../com.r3corda.core.messaging/send.html">send</a></td>
<td>
<code><span class="keyword">fun </span><a href="../../com.r3corda.core.messaging/-messaging-service/index.html"><span class="identifier">MessagingService</span></a><span class="symbol">.</span><span class="identifier">send</span><span class="symbol">(</span><span class="identifier" id="com.r3corda.core.messaging$send(com.r3corda.core.messaging.MessagingService, kotlin.String, kotlin.Long, kotlin.Any, com.r3corda.core.messaging.MessageRecipients)/topic">topic</span><span class="symbol">:</span>&nbsp;<span class="identifier">String</span><span class="symbol">, </span><span class="identifier" id="com.r3corda.core.messaging$send(com.r3corda.core.messaging.MessagingService, kotlin.String, kotlin.Long, kotlin.Any, com.r3corda.core.messaging.MessageRecipients)/sessionID">sessionID</span><span class="symbol">:</span>&nbsp;<span class="identifier">Long</span><span class="symbol">, </span><span class="identifier" id="com.r3corda.core.messaging$send(com.r3corda.core.messaging.MessagingService, kotlin.String, kotlin.Long, kotlin.Any, com.r3corda.core.messaging.MessageRecipients)/payload">payload</span><span class="symbol">:</span>&nbsp;<span class="identifier">Any</span><span class="symbol">, </span><span class="identifier" id="com.r3corda.core.messaging$send(com.r3corda.core.messaging.MessagingService, kotlin.String, kotlin.Long, kotlin.Any, com.r3corda.core.messaging.MessageRecipients)/to">to</span><span class="symbol">:</span>&nbsp;<a href="../../com.r3corda.core.messaging/-message-recipients.html"><span class="identifier">MessageRecipients</span></a><span class="symbol">)</span><span class="symbol">: </span><span class="identifier">Unit</span></code><br/>
<code><span class="keyword">fun </span><a href="../../com.r3corda.core.messaging/-messaging-service/index.html"><span class="identifier">MessagingService</span></a><span class="symbol">.</span><span class="identifier">send</span><span class="symbol">(</span><span class="identifier" id="com.r3corda.core.messaging$send(com.r3corda.core.messaging.MessagingService, com.r3corda.core.messaging.TopicSession, kotlin.Any, com.r3corda.core.messaging.MessageRecipients)/topicSession">topicSession</span><span class="symbol">:</span>&nbsp;<a href="../../com.r3corda.core.messaging/-topic-session/index.html"><span class="identifier">TopicSession</span></a><span class="symbol">, </span><span class="identifier" id="com.r3corda.core.messaging$send(com.r3corda.core.messaging.MessagingService, com.r3corda.core.messaging.TopicSession, kotlin.Any, com.r3corda.core.messaging.MessageRecipients)/payload">payload</span><span class="symbol">:</span>&nbsp;<span class="identifier">Any</span><span class="symbol">, </span><span class="identifier" id="com.r3corda.core.messaging$send(com.r3corda.core.messaging.MessagingService, com.r3corda.core.messaging.TopicSession, kotlin.Any, com.r3corda.core.messaging.MessageRecipients)/to">to</span><span class="symbol">:</span>&nbsp;<a href="../../com.r3corda.core.messaging/-message-recipients.html"><span class="identifier">MessageRecipients</span></a><span class="symbol">)</span><span class="symbol">: </span><span class="identifier">Unit</span></code></td>
</tr>
</tbody>
</table>
</BODY>
</HTML>
